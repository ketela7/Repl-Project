{"version":3,"sources":["/home/runner/workspace/jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom'\n\n// Mock Web APIs for Next.js API routes testing\nimport { TextEncoder, TextDecoder } from 'util'\nglobal.TextEncoder = TextEncoder\nglobal.TextDecoder = TextDecoder\n\n// Mock Request and Response globals for API testing\nglobal.Request = global.Request || class MockRequest {\n  constructor(url, options = {}) {\n    Object.defineProperty(this, 'url', { value: url, writable: false })\n    this.method = options.method || 'GET'\n    this.headers = new Map(Object.entries(options.headers || {}))\n    this.body = options.body || null\n  }\n  \n  async json() {\n    return JSON.parse(this.body || '{}')\n  }\n}\n\nglobal.Response = global.Response || class MockResponse {\n  constructor(body, options = {}) {\n    this.body = body\n    this.status = options.status || 200\n    this.headers = new Map(Object.entries(options.headers || {}))\n  }\n  \n  async json() {\n    return JSON.parse(this.body || '{}')\n  }\n}\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter() {\n    return {\n      push: jest.fn(),\n      replace: jest.fn(),\n      prefetch: jest.fn(),\n      back: jest.fn(),\n      forward: jest.fn(),\n      refresh: jest.fn(),\n    }\n  },\n  useSearchParams() {\n    return new URLSearchParams()\n  },\n  usePathname() {\n    return ''\n  },\n}))\n\n// Mock NextAuth\njest.mock('next-auth/react', () => ({\n  useSession: jest.fn(() => ({\n    data: null,\n    status: 'loading',\n  })),\n  signIn: jest.fn(),\n  signOut: jest.fn(),\n  SessionProvider: ({ children }) => children,\n}))\n\n// Mock environment variables\nprocess.env = {\n  ...process.env,\n  NEXTAUTH_URL: 'http://localhost:3000',\n  NEXTAUTH_SECRET: 'test-secret',\n  GOOGLE_CLIENT_ID: 'test-client-id',\n  GOOGLE_CLIENT_SECRET: 'test-client-secret',\n}\n\n// Mock window.matchMedia\nconst mockMatchMedia = jest.fn().mockImplementation((query) => ({\n  matches: false,\n  media: query,\n  onchange: null,\n  addListener: jest.fn(),\n  removeListener: jest.fn(),\n  addEventListener: jest.fn(),\n  removeEventListener: jest.fn(),\n  dispatchEvent: jest.fn(),\n}))\n\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: mockMatchMedia,\n})\n\n// Mock localStorage for themes\nconst localStorageMock = {\n  getItem: jest.fn(() => null),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nObject.defineProperty(window, 'localStorage', {\n  value: localStorageMock,\n  writable: true,\n})\n\n// Mock ResizeObserver\nglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Note: Using @testing-library/jest-dom matchers instead of custom ones\n\n// Suppress console errors during tests\nconst originalError = console.error\nbeforeAll(() => {\n  console.error = (...args) => {\n    if (\n      typeof args[0] === 'string' &&\n      args[0].includes('Warning: ReactDOM.render is no longer supported')\n    ) {\n      return\n    }\n    originalError.call(console, ...args)\n  }\n})\n\nafterAll(() => {\n  console.error = originalError\n})\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","back","forward","refresh","useSearchParams","URLSearchParams","usePathname","useSession","data","status","signIn","signOut","SessionProvider","children","global","TextEncoder","TextDecoder","Request","MockRequest","constructor","url","options","Object","defineProperty","value","writable","method","headers","Map","entries","body","json","JSON","parse","Response","MockResponse","process","env","NEXTAUTH_URL","NEXTAUTH_SECRET","GOOGLE_CLIENT_ID","GOOGLE_CLIENT_SECRET","mockMatchMedia","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","window","localStorageMock","getItem","setItem","removeItem","clear","ResizeObserver","observe","unobserve","disconnect","IntersectionObserver","originalError","console","error","beforeAll","args","includes","call","afterAll"],"mappings":"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"}
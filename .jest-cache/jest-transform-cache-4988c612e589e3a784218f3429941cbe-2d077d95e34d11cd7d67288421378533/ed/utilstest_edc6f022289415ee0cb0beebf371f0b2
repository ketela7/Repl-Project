c3f1eb3900a439be4cfd5448f1cc3c82
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _utils = require("../utils");
describe('Google Drive Utils', ()=>{
    describe('formatFileSize', ()=>{
        it('should format bytes correctly', ()=>{
            expect((0, _utils.formatFileSize)(1024)).toBe('1.0 KB');
            expect((0, _utils.formatFileSize)(1048576)).toBe('1.0 MB');
            expect((0, _utils.formatFileSize)(1073741824)).toBe('1.0 GB');
            expect((0, _utils.formatFileSize)(0)).toBe('0 B');
            expect((0, _utils.formatFileSize)(500)).toBe('500 B');
        });
        it('should handle undefined size', ()=>{
            expect((0, _utils.formatFileSize)(undefined)).toBe('0 B');
        });
    });
    describe('getFileExtension', ()=>{
        it('should extract file extensions', ()=>{
            expect((0, _utils.getFileExtension)('document.pdf')).toBe('pdf');
            expect((0, _utils.getFileExtension)('image.jpeg')).toBe('jpeg');
            expect((0, _utils.getFileExtension)('file.tar.gz')).toBe('gz');
            expect((0, _utils.getFileExtension)('noextension')).toBe('');
        });
        it('should handle empty or invalid filenames', ()=>{
            expect((0, _utils.getFileExtension)('')).toBe('');
            expect((0, _utils.getFileExtension)('.')).toBe('');
            expect((0, _utils.getFileExtension)('.hidden')).toBe('hidden');
        });
    });
    describe('isImageFile', ()=>{
        it('should identify image files by extension', ()=>{
            expect((0, _utils.isImageFile)('photo.jpg')).toBe(true);
            expect((0, _utils.isImageFile)('image.png')).toBe(true);
            expect((0, _utils.isImageFile)('graphic.gif')).toBe(true);
            expect((0, _utils.isImageFile)('document.pdf')).toBe(false);
        });
        it('should identify image files by mime type', ()=>{
            expect((0, _utils.isImageFile)('image/jpeg')).toBe(true);
            expect((0, _utils.isImageFile)('image/png')).toBe(true);
            expect((0, _utils.isImageFile)('application/pdf')).toBe(false);
        });
    });
    describe('isVideoFile', ()=>{
        it('should identify video files', ()=>{
            expect((0, _utils.isVideoFile)('movie.mp4')).toBe(true);
            expect((0, _utils.isVideoFile)('video.avi')).toBe(true);
            expect((0, _utils.isVideoFile)('clip.mov')).toBe(true);
            expect((0, _utils.isVideoFile)('image.jpg')).toBe(false);
        });
        it('should identify video files by mime type', ()=>{
            expect((0, _utils.isVideoFile)('video/mp4')).toBe(true);
            expect((0, _utils.isVideoFile)('video/quicktime')).toBe(true);
            expect((0, _utils.isVideoFile)('image/jpeg')).toBe(false);
        });
    });
    describe('getFileTypeCategory', ()=>{
        it('should categorize files correctly', ()=>{
            expect((0, _utils.getFileTypeCategory)('document.pdf')).toBe('document');
            expect((0, _utils.getFileTypeCategory)('photo.jpg')).toBe('image');
            expect((0, _utils.getFileTypeCategory)('song.mp3')).toBe('audio');
            expect((0, _utils.getFileTypeCategory)('video.mp4')).toBe('video');
            expect((0, _utils.getFileTypeCategory)('archive.zip')).toBe('archive');
            expect((0, _utils.getFileTypeCategory)('unknown.xyz')).toBe('other');
        });
        it('should handle Google Apps files', ()=>{
            expect((0, _utils.getFileTypeCategory)('', 'application/vnd.google-apps.document')).toBe('document');
            expect((0, _utils.getFileTypeCategory)('', 'application/vnd.google-apps.spreadsheet')).toBe('document');
            expect((0, _utils.getFileTypeCategory)('', 'application/vnd.google-apps.folder')).toBe('folder');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2xpYi9nb29nbGUtZHJpdmUvX190ZXN0c19fL3V0aWxzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBcbiAgZm9ybWF0RmlsZVNpemUsIFxuICBnZXRGaWxlRXh0ZW5zaW9uLCBcbiAgaXNJbWFnZUZpbGUsIFxuICBpc1ZpZGVvRmlsZSwgXG4gIGdldEZpbGVUeXBlQ2F0ZWdvcnkgXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5kZXNjcmliZSgnR29vZ2xlIERyaXZlIFV0aWxzJywgKCkgPT4ge1xuICBkZXNjcmliZSgnZm9ybWF0RmlsZVNpemUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmb3JtYXQgYnl0ZXMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGZvcm1hdEZpbGVTaXplKDEwMjQpKS50b0JlKCcxLjAgS0InKVxuICAgICAgZXhwZWN0KGZvcm1hdEZpbGVTaXplKDEwNDg1NzYpKS50b0JlKCcxLjAgTUInKVxuICAgICAgZXhwZWN0KGZvcm1hdEZpbGVTaXplKDEwNzM3NDE4MjQpKS50b0JlKCcxLjAgR0InKVxuICAgICAgZXhwZWN0KGZvcm1hdEZpbGVTaXplKDApKS50b0JlKCcwIEInKVxuICAgICAgZXhwZWN0KGZvcm1hdEZpbGVTaXplKDUwMCkpLnRvQmUoJzUwMCBCJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5kZWZpbmVkIHNpemUnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZm9ybWF0RmlsZVNpemUodW5kZWZpbmVkKSkudG9CZSgnMCBCJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdnZXRGaWxlRXh0ZW5zaW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXh0cmFjdCBmaWxlIGV4dGVuc2lvbnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0RmlsZUV4dGVuc2lvbignZG9jdW1lbnQucGRmJykpLnRvQmUoJ3BkZicpXG4gICAgICBleHBlY3QoZ2V0RmlsZUV4dGVuc2lvbignaW1hZ2UuanBlZycpKS50b0JlKCdqcGVnJylcbiAgICAgIGV4cGVjdChnZXRGaWxlRXh0ZW5zaW9uKCdmaWxlLnRhci5neicpKS50b0JlKCdneicpXG4gICAgICBleHBlY3QoZ2V0RmlsZUV4dGVuc2lvbignbm9leHRlbnNpb24nKSkudG9CZSgnJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgb3IgaW52YWxpZCBmaWxlbmFtZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0RmlsZUV4dGVuc2lvbignJykpLnRvQmUoJycpXG4gICAgICBleHBlY3QoZ2V0RmlsZUV4dGVuc2lvbignLicpKS50b0JlKCcnKVxuICAgICAgZXhwZWN0KGdldEZpbGVFeHRlbnNpb24oJy5oaWRkZW4nKSkudG9CZSgnaGlkZGVuJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdpc0ltYWdlRmlsZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGlkZW50aWZ5IGltYWdlIGZpbGVzIGJ5IGV4dGVuc2lvbicsICgpID0+IHtcbiAgICAgIGV4cGVjdChpc0ltYWdlRmlsZSgncGhvdG8uanBnJykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChpc0ltYWdlRmlsZSgnaW1hZ2UucG5nJykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChpc0ltYWdlRmlsZSgnZ3JhcGhpYy5naWYnKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGlzSW1hZ2VGaWxlKCdkb2N1bWVudC5wZGYnKSkudG9CZShmYWxzZSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBpZGVudGlmeSBpbWFnZSBmaWxlcyBieSBtaW1lIHR5cGUnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoaXNJbWFnZUZpbGUoJ2ltYWdlL2pwZWcnKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGlzSW1hZ2VGaWxlKCdpbWFnZS9wbmcnKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGlzSW1hZ2VGaWxlKCdhcHBsaWNhdGlvbi9wZGYnKSkudG9CZShmYWxzZSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdpc1ZpZGVvRmlsZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGlkZW50aWZ5IHZpZGVvIGZpbGVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGlzVmlkZW9GaWxlKCdtb3ZpZS5tcDQnKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGlzVmlkZW9GaWxlKCd2aWRlby5hdmknKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGlzVmlkZW9GaWxlKCdjbGlwLm1vdicpKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoaXNWaWRlb0ZpbGUoJ2ltYWdlLmpwZycpKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGlkZW50aWZ5IHZpZGVvIGZpbGVzIGJ5IG1pbWUgdHlwZScsICgpID0+IHtcbiAgICAgIGV4cGVjdChpc1ZpZGVvRmlsZSgndmlkZW8vbXA0JykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChpc1ZpZGVvRmlsZSgndmlkZW8vcXVpY2t0aW1lJykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChpc1ZpZGVvRmlsZSgnaW1hZ2UvanBlZycpKS50b0JlKGZhbHNlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ2dldEZpbGVUeXBlQ2F0ZWdvcnknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYXRlZ29yaXplIGZpbGVzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRGaWxlVHlwZUNhdGVnb3J5KCdkb2N1bWVudC5wZGYnKSkudG9CZSgnZG9jdW1lbnQnKVxuICAgICAgZXhwZWN0KGdldEZpbGVUeXBlQ2F0ZWdvcnkoJ3Bob3RvLmpwZycpKS50b0JlKCdpbWFnZScpXG4gICAgICBleHBlY3QoZ2V0RmlsZVR5cGVDYXRlZ29yeSgnc29uZy5tcDMnKSkudG9CZSgnYXVkaW8nKVxuICAgICAgZXhwZWN0KGdldEZpbGVUeXBlQ2F0ZWdvcnkoJ3ZpZGVvLm1wNCcpKS50b0JlKCd2aWRlbycpXG4gICAgICBleHBlY3QoZ2V0RmlsZVR5cGVDYXRlZ29yeSgnYXJjaGl2ZS56aXAnKSkudG9CZSgnYXJjaGl2ZScpXG4gICAgICBleHBlY3QoZ2V0RmlsZVR5cGVDYXRlZ29yeSgndW5rbm93bi54eXonKSkudG9CZSgnb3RoZXInKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBHb29nbGUgQXBwcyBmaWxlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRGaWxlVHlwZUNhdGVnb3J5KCcnLCAnYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmRvY3VtZW50JykpLnRvQmUoJ2RvY3VtZW50JylcbiAgICAgIGV4cGVjdChnZXRGaWxlVHlwZUNhdGVnb3J5KCcnLCAnYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLnNwcmVhZHNoZWV0JykpLnRvQmUoJ2RvY3VtZW50JylcbiAgICAgIGV4cGVjdChnZXRGaWxlVHlwZUNhdGVnb3J5KCcnLCAnYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmZvbGRlcicpKS50b0JlKCdmb2xkZXInKVxuICAgIH0pXG4gIH0pXG59KVxuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJmb3JtYXRGaWxlU2l6ZSIsInRvQmUiLCJ1bmRlZmluZWQiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiaXNJbWFnZUZpbGUiLCJpc1ZpZGVvRmlsZSIsImdldEZpbGVUeXBlQ2F0ZWdvcnkiXSwibWFwcGluZ3MiOiI7Ozs7dUJBT087QUFFUEEsU0FBUyxzQkFBc0I7SUFDN0JBLFNBQVMsa0JBQWtCO1FBQ3pCQyxHQUFHLGlDQUFpQztZQUNsQ0MsT0FBT0MsSUFBQUEscUJBQWMsRUFBQyxPQUFPQyxJQUFJLENBQUM7WUFDbENGLE9BQU9DLElBQUFBLHFCQUFjLEVBQUMsVUFBVUMsSUFBSSxDQUFDO1lBQ3JDRixPQUFPQyxJQUFBQSxxQkFBYyxFQUFDLGFBQWFDLElBQUks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
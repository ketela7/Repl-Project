{"version":3,"names":["cov_1xtbne3cn1","actualCoverage","s","GET","_request","f","session","_auth","auth","user","b","_server","NextResponse","json","error","status","accessToken","driveService","_service","GoogleDriveService","userInfo","getUserInfo"],"sources":["/home/runner/workspace/src/app/api/drive/user/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\n\nimport { auth } from '@/auth'\nimport { GoogleDriveService } from '@/lib/google-drive/service'\n\nexport async function GET(_request: NextRequest) {\n  try {\n    const session = await auth()\n\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const accessToken = session.accessToken\n    if (!accessToken) {\n      return NextResponse.json({ error: 'Google Drive access not found' }, { status: 400 })\n    }\n\n    const driveService = new GoogleDriveService(accessToken)\n    const userInfo = await driveService.getUserInfo()\n\n    return NextResponse.json(userInfo)\n  } catch (error) {\n    return NextResponse.json({ error: 'Failed to fetch user info' }, { status: 500 })\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOI;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BAFkB;;;;;;WAAAC,GAAA;;;;;kCALoB;;;kCAErB;;;kCACc;AAE5B,eAAeA,IAAIC,QAAqB;EAAA;EAAAJ,cAAA,GAAAK,CAAA;EAAAL,cAAA,GAAAE,CAAA;EAC7C,IAAI;IACF,MAAMI,OAAA;IAAA;IAAA,CAAAN,cAAA,GAAAE,CAAA,OAAU,MAAM,IAAAK,KAAA,CAAAC,IAAI;IAAA;IAAAR,cAAA,GAAAE,CAAA;IAE1B,IAAI,CAACI,OAAA,EAASG,IAAA,EAAM;MAAA;MAAAT,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAClB,OAAOS,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;QAAEC,KAAA,EAAO;MAAe,GAAG;QAAEC,MAAA,EAAQ;MAAI;IACpE;IAAA;IAAA;MAAAf,cAAA,GAAAU,CAAA;IAAA;IAEA,MAAMM,WAAA;IAAA;IAAA,CAAAhB,cAAA,GAAAE,CAAA,QAAcI,OAAA,CAAQU,WAAW;IAAA;IAAAhB,cAAA,GAAAE,CAAA;IACvC,IAAI,CAACc,WAAA,EAAa;MAAA;MAAAhB,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAChB,OAAOS,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;QAAEC,KAAA,EAAO;MAAgC,GAAG;QAAEC,MAAA,EAAQ;MAAI;IACrF;IAAA;IAAA;MAAAf,cAAA,GAAAU,CAAA;IAAA;IAEA,MAAMO,YAAA;IAAA;IAAA,CAAAjB,cAAA,GAAAE,CAAA,QAAe,IAAIgB,QAAA,CAAAC,kBAAkB,CAACH,WAAA;IAC5C,MAAMI,QAAA;IAAA;IAAA,CAAApB,cAAA,GAAAE,CAAA,QAAW,MAAMe,YAAA,CAAaI,WAAW;IAAA;IAAArB,cAAA,GAAAE,CAAA;IAE/C,OAAOS,OAAA,CAAAC,YAAY,CAACC,IAAI,CAACO,QAAA;EAC3B,EAAE,OAAON,KAAA,EAAO;IAAA;IAAAd,cAAA,GAAAE,CAAA;IACd,OAAOS,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;MAAEC,KAAA,EAAO;IAA4B,GAAG;MAAEC,MAAA,EAAQ;IAAI;EACjF;AACF","ignoreList":[]}
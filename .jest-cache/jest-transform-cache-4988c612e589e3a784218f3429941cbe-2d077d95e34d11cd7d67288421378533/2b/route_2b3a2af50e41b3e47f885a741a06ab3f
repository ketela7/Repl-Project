3280c70c86708e50940a1442ef44d7e5
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "POST", {
    enumerable: true,
    get: function() {
        return POST;
    }
});
const _server = require("next/server");
const _apiutils = require("../../../../../lib/api-utils");
async function POST(request) {
    try {
        const authResult = await (0, _apiutils.initDriveService)();
        if (!authResult.success) {
            return authResult.response;
        }
        const { driveService } = authResult;
        const body = await request.json();
        // Get fileId from body
        const { fileId } = body;
        if (!fileId) {
            return _server.NextResponse.json({
                error: 'File ID is required'
            }, {
                status: 400
            });
        }
        // Get comprehensive file details
        const fileDetails = await driveService.getFileDetails(fileId);
        return _server.NextResponse.json({
            success: true,
            fileDetails,
            operation: 'details'
        });
    } catch (error) {
        return (0, _apiutils.handleApiError)(error);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2FwcC9hcGkvZHJpdmUvZmlsZXMvZGV0YWlscy9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5cbmltcG9ydCB7IGluaXREcml2ZVNlcnZpY2UsIGhhbmRsZUFwaUVycm9yIH0gZnJvbSAnQC9saWIvYXBpLXV0aWxzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCBpbml0RHJpdmVTZXJ2aWNlKClcbiAgICBpZiAoIWF1dGhSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIGF1dGhSZXN1bHQucmVzcG9uc2UhXG4gICAgfVxuXG4gICAgY29uc3QgeyBkcml2ZVNlcnZpY2UgfSA9IGF1dGhSZXN1bHRcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIC8vIEdldCBmaWxlSWQgZnJvbSBib2R5XG4gICAgY29uc3QgeyBmaWxlSWQgfSA9IGJvZHlcblxuICAgIGlmICghZmlsZUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZpbGUgSUQgaXMgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICAvLyBHZXQgY29tcHJlaGVuc2l2ZSBmaWxlIGRldGFpbHNcbiAgICBjb25zdCBmaWxlRGV0YWlscyA9IGF3YWl0IGRyaXZlU2VydmljZS5nZXRGaWxlRGV0YWlscyhmaWxlSWQpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGZpbGVEZXRhaWxzLFxuICAgICAgb3BlcmF0aW9uOiAnZGV0YWlscycsXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiBoYW5kbGVBcGlFcnJvcihlcnJvcilcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlBPU1QiLCJyZXF1ZXN0IiwiYXV0aFJlc3VsdCIsImluaXREcml2ZVNlcnZpY2UiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJkcml2ZVNlcnZpY2UiLCJib2R5IiwianNvbiIsImZpbGVJZCIsIk5leHRSZXNwb25zZSIsImVycm9yIiwic3RhdHVzIiwiZmlsZURldGFpbHMiLCJnZXRGaWxlRGV0YWlscyIsIm9wZXJhdGlvbiIsImhhbmRsZUFwaUVycm9yIl0sIm1hcHBpbmdzIjoiOzs7OytCQUlzQkE7OztlQUFBQTs7O3dCQUpvQjswQkFFTztBQUUxQyxlQUFlQSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsYUFBYSxNQUFNQyxJQUFBQSwwQkFBZ0I7UUFDekMsSUFBSSxDQUFDRCxXQUFXRSxPQUFPLEVBQUU7WUFDdkIsT0FBT0YsV0FBV0csUUFBUTtRQUM1QjtRQUVBLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUdKO1FBQ3pCLE1BQU1LLE9BQU8sTUFBTU4sUUFBUU8sSUFBSTtRQUUvQix1QkFBdUI7UUFDdkIsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0Y7UUFFbkIsSUFBSSxDQUFDRSxRQUFRO1lBQ1gsT0FBT0Msb0JBQVksQ0FBQ0YsSUFBSSxDQUFDO2dCQUFFRyxPQUFPO1lBQXNCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUMzRTtRQUVBLGlDQUFpQztRQUNqQyxNQUFNQyxjQUFjLE1BQU1QLGFBQWFRLGNBQWMsQ0FBQ0w7UUFFdEQsT0FBT0Msb0JBQVksQ0FBQ0YsSUFBSSxDQUFDO1lBQ3ZCSixTQUFTO1lBQ1RTO1lBQ0FFLFdBQVc7UUFDYjtJQUNGLEVBQUUsT0FBT0osT0FBWTtRQUNuQixPQUFPSyxJQUFBQSx3QkFBYyxFQUFDTDtJQUN4QjtBQUNGIn0=
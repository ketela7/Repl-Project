6a5627b1d607b6ec327e0b5cfcb08927
/**
 * Jest Tests for New Static API Endpoints
 * Testing all refactored API endpoints from /api/drive/files/[fileId]/* to /api/drive/files/*
 */ "use strict";
// Mock NextAuth
jest.mock('next-auth', ()=>({
        default: jest.fn(()=>({
                handlers: {
                    GET: jest.fn(),
                    POST: jest.fn()
                },
                auth: jest.fn(),
                signIn: jest.fn(),
                signOut: jest.fn()
            }))
    }));
// Mock Google Drive Service
jest.mock('@/lib/google-drive/service', ()=>({
        GoogleDriveService: jest.fn().mockImplementation(()=>({
                getFileDetails: jest.fn().mockResolvedValue({
                    id: 'test-file-id',
                    name: 'test-file.txt',
                    mimeType: 'text/plain',
                    size: '1024',
                    createdTime: '2025-01-01T00:00:00Z',
                    modifiedTime: '2025-01-01T00:00:00Z'
                }),
                getFileMetadata: jest.fn().mockResolvedValue({
                    id: 'test-file-id',
                    name: 'test-file.txt',
                    mimeType: 'text/plain',
                    size: '1024'
                }),
                moveFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                copyFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                renameFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                moveToTrash: jest.fn().mockResolvedValue({
                    success: true
                }),
                untrashFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                deleteFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                shareFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                exportFile: jest.fn().mockResolvedValue(new ArrayBuffer(8)),
                downloadFile: jest.fn().mockResolvedValue('file-content')
            }))
    }));
// Mock API Utils
jest.mock('@/lib/api-utils', ()=>({
        initDriveService: jest.fn().mockResolvedValue({
            success: true,
            driveService: {
                getFileDetails: jest.fn().mockResolvedValue({
                    id: 'test-file-id',
                    name: 'test-file.txt'
                }),
                getFileMetadata: jest.fn().mockResolvedValue({
                    id: 'test-file-id',
                    name: 'test-file.txt'
                }),
                moveFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                copyFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                renameFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                moveToTrash: jest.fn().mockResolvedValue({
                    success: true
                }),
                untrashFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                deleteFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                shareFile: jest.fn().mockResolvedValue({
                    success: true
                }),
                exportFile: jest.fn().mockResolvedValue(new ArrayBuffer(8)),
                downloadFile: jest.fn().mockResolvedValue('file-content')
            }
        }),
        handleApiError: jest.fn().mockReturnValue(new Response('Error', {
            status: 500
        })),
        validateShareRequest: jest.fn().mockReturnValue(true),
        validateOperationsRequest: jest.fn().mockReturnValue(true)
    }));
// Mock throttle and retry
jest.mock('@/lib/api-throttle', ()=>({
        throttledDriveRequest: jest.fn().mockImplementation((fn)=>fn())
    }));
jest.mock('@/lib/api-retry', ()=>({
        retryDriveApiCall: jest.fn().mockImplementation((fn)=>fn())
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../src/app/api/drive/files/details/route");
const _route1 = require("../../src/app/api/drive/files/download/route");
const _route2 = require("../../src/app/api/drive/files/move/route");
const _route3 = require("../../src/app/api/drive/files/copy/route");
const _route4 = require("../../src/app/api/drive/files/rename/route");
const _route5 = require("../../src/app/api/drive/files/trash/route");
const _route6 = require("../../src/app/api/drive/files/untrash/route");
const _route7 = require("../../src/app/api/drive/files/delete/route");
const _route8 = require("../../src/app/api/drive/files/share/route");
const _route9 = require("../../src/app/api/drive/files/export/route");
const _route10 = require("../../src/app/api/drive/files/essential/route");
const _route11 = require("../../src/app/api/drive/files/extended/route");
describe('API Endpoints - New Static Routing', ()=>{
    let mockRequest;
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    const createMockRequest = (body)=>{
        return new _server.NextRequest('http://localhost:3000/test', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(body)
        });
    };
    describe('/api/drive/files/details', ()=>{
        it('should handle single file details request', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id'
            });
            const response = await (0, _route.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('details');
            expect(data.fileDetails).toBeDefined();
        });
        it('should return 400 for missing fileId', async ()=>{
            mockRequest = createMockRequest({});
            const response = await (0, _route.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error).toBe('File ID is required');
        });
    });
    describe('/api/drive/files/essential', ()=>{
        it('should return essential metadata', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id'
            });
            const response = await (0, _route10.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('essential');
            expect(data.fileMetadata).toBeDefined();
        });
    });
    describe('/api/drive/files/extended', ()=>{
        it('should return extended metadata', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id'
            });
            const response = await (0, _route11.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('extended');
            expect(data.fileMetadata).toBeDefined();
        });
    });
    describe('/api/drive/files/move', ()=>{
        it('should handle single file move', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id',
                targetFolderId: 'target-folder-id'
            });
            const response = await (0, _route2.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('move');
            expect(data.type).toBe('single');
        });
        it('should handle bulk file move', async ()=>{
            mockRequest = createMockRequest({
                items: [
                    {
                        id: 'file1',
                        name: 'file1.txt',
                        isFolder: false
                    },
                    {
                        id: 'file2',
                        name: 'file2.txt',
                        isFolder: false
                    }
                ],
                targetFolderId: 'target-folder-id'
            });
            const response = await (0, _route2.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('move');
            expect(data.type).toBe('bulk');
            expect(data.processed).toBe(2);
        });
        it('should return 400 for missing targetFolderId', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id'
            });
            const response = await (0, _route2.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error).toBe('Target folder ID is required');
        });
    });
    describe('/api/drive/files/copy', ()=>{
        it('should handle file copy operation', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id',
                targetFolderId: 'target-folder-id'
            });
            const response = await (0, _route3.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('copy');
            expect(data.targetFolderId).toBe('target-folder-id');
        });
        it('should handle bulk copy with name prefix', async ()=>{
            mockRequest = createMockRequest({
                items: [
                    {
                        id: 'file1',
                        name: 'file1.txt',
                        isFolder: false
                    }
                ],
                targetFolderId: 'target-folder-id',
                namePrefix: 'Copy_'
            });
            const response = await (0, _route3.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.namePrefix).toBe('Copy_');
        });
    });
    describe('/api/drive/files/rename', ()=>{
        it('should handle single file rename', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id',
                newName: 'new-file-name.txt'
            });
            const response = await (0, _route4.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('rename');
        });
        it('should handle bulk rename with prefix', async ()=>{
            mockRequest = createMockRequest({
                items: [
                    {
                        id: 'file1',
                        name: 'file1.txt',
                        isFolder: false
                    },
                    {
                        id: 'file2',
                        name: 'file2.txt',
                        isFolder: false
                    }
                ],
                namePrefix: 'Bulk_'
            });
            const response = await (0, _route4.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.type).toBe('bulk');
        });
    });
    describe('/api/drive/files/trash', ()=>{
        it('should handle trash operation', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id'
            });
            const response = await (0, _route5.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('trash');
        });
    });
    describe('/api/drive/files/untrash', ()=>{
        it('should handle untrash operation', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id'
            });
            const response = await (0, _route6.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('untrash');
        });
    });
    describe('/api/drive/files/delete', ()=>{
        it('should handle permanent delete operation', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id'
            });
            const response = await (0, _route7.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('delete');
        });
    });
    describe('/api/drive/files/share', ()=>{
        it('should handle share operation', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id',
                permissions: [
                    {
                        type: 'user',
                        role: 'reader',
                        emailAddress: 'test@example.com'
                    }
                ],
                notifyUsers: false
            });
            const response = await (0, _route8.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('share');
        });
    });
    describe('/api/drive/files/export', ()=>{
        it('should handle export operation', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id',
                exportFormat: 'pdf'
            });
            const response = await (0, _route9.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.operation).toBe('export');
            expect(data.exportFormat).toBe('pdf');
        });
    });
    describe('/api/drive/files/download', ()=>{
        it('should handle single file download', async ()=>{
            mockRequest = createMockRequest({
                fileId: 'test-file-id',
                downloadMode: 'exportLinks'
            });
            const response = await (0, _route1.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
        });
        it('should handle bulk download', async ()=>{
            mockRequest = createMockRequest({
                items: [
                    {
                        id: 'file1',
                        name: 'file1.txt',
                        isFolder: false
                    }
                ],
                downloadMode: 'exportLinks'
            });
            const response = await (0, _route1.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(200);
        });
        it('should return error for missing fileId in single mode', async ()=>{
            mockRequest = createMockRequest({
                downloadMode: 'oneByOne'
            });
            const response = await (0, _route1.POST)(mockRequest);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error).toBe('fileId is required for single file download');
        });
    });
});
describe('API Endpoints - Error Handling', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('should handle authentication failure', async ()=>{
        // Mock authentication failure
        const { initDriveService } = require('@/lib/api-utils');
        initDriveService.mockResolvedValueOnce({
            success: false,
            response: new Response('Unauthorized', {
                status: 401
            })
        });
        const mockRequest = new _server.NextRequest('http://localhost:3000/test', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                fileId: 'test-file-id'
            })
        });
        const response = await (0, _route.POST)(mockRequest);
        expect(response.status).toBe(401);
    });
    it('should handle service errors gracefully', async ()=>{
        // Mock service error
        const { initDriveService } = require('@/lib/api-utils');
        initDriveService.mockResolvedValueOnce({
            success: true,
            driveService: {
                getFileDetails: jest.fn().mockRejectedValue(new Error('Service error'))
            }
        });
        const mockRequest = new _server.NextRequest('http://localhost:3000/test', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                fileId: 'test-file-id'
            })
        });
        const response = await (0, _route.POST)(mockRequest);
        expect(response.status).toBe(500);
    });
});
describe('API Endpoints - Request Validation', ()=>{
    const createMockRequest = (body)=>{
        return new _server.NextRequest('http://localhost:3000/test', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(body)
        });
    };
    it('should validate required fields for each endpoint', async ()=>{
        // Test missing fileId for details endpoint
        const detailsRequest = createMockRequest({});
        const detailsResponse = await (0, _route.POST)(detailsRequest);
        expect(detailsResponse.status).toBe(400);
        // Test missing targetFolderId for move endpoint
        const moveRequest = createMockRequest({
            fileId: 'test'
        });
        const moveResponse = await (0, _route2.POST)(moveRequest);
        expect(moveResponse.status).toBe(400);
    });
    it('should handle malformed JSON', async ()=>{
        const malformedRequest = new _server.NextRequest('http://localhost:3000/test', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: 'invalid-json'
        });
        try {
            await (0, _route.POST)(malformedRequest);
        } catch (error) {
            expect(error).toBeInstanceOf(Error);
        }
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvX190ZXN0c19fL2FwaS9uZXctZW5kcG9pbnRzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBKZXN0IFRlc3RzIGZvciBOZXcgU3RhdGljIEFQSSBFbmRwb2ludHNcbiAqIFRlc3RpbmcgYWxsIHJlZmFjdG9yZWQgQVBJIGVuZHBvaW50cyBmcm9tIC9hcGkvZHJpdmUvZmlsZXMvW2ZpbGVJZF0vKiB0byAvYXBpL2RyaXZlL2ZpbGVzLypcbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgUE9TVCB9IGZyb20gJ0AvYXBwL2FwaS9kcml2ZS9maWxlcy9kZXRhaWxzL3JvdXRlJ1xuaW1wb3J0IHsgUE9TVCBhcyBEb3dubG9hZFBPU1QgfSBmcm9tICdAL2FwcC9hcGkvZHJpdmUvZmlsZXMvZG93bmxvYWQvcm91dGUnXG5pbXBvcnQgeyBQT1NUIGFzIE1vdmVQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL2RyaXZlL2ZpbGVzL21vdmUvcm91dGUnXG5pbXBvcnQgeyBQT1NUIGFzIENvcHlQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL2RyaXZlL2ZpbGVzL2NvcHkvcm91dGUnXG5pbXBvcnQgeyBQT1NUIGFzIFJlbmFtZVBPU1QgfSBmcm9tICdAL2FwcC9hcGkvZHJpdmUvZmlsZXMvcmVuYW1lL3JvdXRlJ1xuaW1wb3J0IHsgUE9TVCBhcyBUcmFzaFBPU1QgfSBmcm9tICdAL2FwcC9hcGkvZHJpdmUvZmlsZXMvdHJhc2gvcm91dGUnXG5pbXBvcnQgeyBQT1NUIGFzIFVudHJhc2hQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL2RyaXZlL2ZpbGVzL3VudHJhc2gvcm91dGUnXG5pbXBvcnQgeyBQT1NUIGFzIERlbGV0ZVBPU1QgfSBmcm9tICdAL2FwcC9hcGkvZHJpdmUvZmlsZXMvZGVsZXRlL3JvdXRlJ1xuaW1wb3J0IHsgUE9TVCBhcyBTaGFyZVBPU1QgfSBmcm9tICdAL2FwcC9hcGkvZHJpdmUvZmlsZXMvc2hhcmUvcm91dGUnXG5pbXBvcnQgeyBQT1NUIGFzIEV4cG9ydFBPU1QgfSBmcm9tICdAL2FwcC9hcGkvZHJpdmUvZmlsZXMvZXhwb3J0L3JvdXRlJ1xuaW1wb3J0IHsgUE9TVCBhcyBFc3NlbnRpYWxQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL2RyaXZlL2ZpbGVzL2Vzc2VudGlhbC9yb3V0ZSdcbmltcG9ydCB7IFBPU1QgYXMgRXh0ZW5kZWRQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL2RyaXZlL2ZpbGVzL2V4dGVuZGVkL3JvdXRlJ1xuXG4vLyBNb2NrIE5leHRBdXRoXG5qZXN0Lm1vY2soJ25leHQtYXV0aCcsICgpID0+ICh7XG4gIGRlZmF1bHQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBoYW5kbGVyczogeyBHRVQ6IGplc3QuZm4oKSwgUE9TVDogamVzdC5mbigpIH0sXG4gICAgYXV0aDogamVzdC5mbigpLFxuICAgIHNpZ25JbjogamVzdC5mbigpLFxuICAgIHNpZ25PdXQ6IGplc3QuZm4oKSxcbiAgfSkpLFxufSkpXG5cbi8vIE1vY2sgR29vZ2xlIERyaXZlIFNlcnZpY2Vcbmplc3QubW9jaygnQC9saWIvZ29vZ2xlLWRyaXZlL3NlcnZpY2UnLCAoKSA9PiAoe1xuICBHb29nbGVEcml2ZVNlcnZpY2U6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICBnZXRGaWxlRGV0YWlsczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGlkOiAndGVzdC1maWxlLWlkJyxcbiAgICAgIG5hbWU6ICd0ZXN0LWZpbGUudHh0JyxcbiAgICAgIG1pbWVUeXBlOiAndGV4dC9wbGFpbicsXG4gICAgICBzaXplOiAnMTAyNCcsXG4gICAgICBjcmVhdGVkVGltZTogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIG1vZGlmaWVkVGltZTogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICB9KSxcbiAgICBnZXRGaWxlTWV0YWRhdGE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBpZDogJ3Rlc3QtZmlsZS1pZCcsXG4gICAgICBuYW1lOiAndGVzdC1maWxlLnR4dCcsXG4gICAgICBtaW1lVHlwZTogJ3RleHQvcGxhaW4nLFxuICAgICAgc2l6ZTogJzEwMjQnLFxuICAgIH0pLFxuICAgIG1vdmVGaWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgIGNvcHlGaWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgIHJlbmFtZUZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgbW92ZVRvVHJhc2g6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgdW50cmFzaEZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgZGVsZXRlRmlsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICBzaGFyZUZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgZXhwb3J0RmlsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG5ldyBBcnJheUJ1ZmZlcig4KSksXG4gICAgZG93bmxvYWRGaWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ2ZpbGUtY29udGVudCcpLFxuICB9KSksXG59KSlcblxuLy8gTW9jayBBUEkgVXRpbHNcbmplc3QubW9jaygnQC9saWIvYXBpLXV0aWxzJywgKCkgPT4gKHtcbiAgaW5pdERyaXZlU2VydmljZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRyaXZlU2VydmljZToge1xuICAgICAgZ2V0RmlsZURldGFpbHM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGlkOiAndGVzdC1maWxlLWlkJyxcbiAgICAgICAgbmFtZTogJ3Rlc3QtZmlsZS50eHQnLFxuICAgICAgfSksXG4gICAgICBnZXRGaWxlTWV0YWRhdGE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGlkOiAndGVzdC1maWxlLWlkJyxcbiAgICAgICAgbmFtZTogJ3Rlc3QtZmlsZS50eHQnLFxuICAgICAgfSksXG4gICAgICBtb3ZlRmlsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIGNvcHlGaWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgcmVuYW1lRmlsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIG1vdmVUb1RyYXNoOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgdW50cmFzaEZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgICBkZWxldGVGaWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgc2hhcmVGaWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgZXhwb3J0RmlsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG5ldyBBcnJheUJ1ZmZlcig4KSksXG4gICAgICBkb3dubG9hZEZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnZmlsZS1jb250ZW50JyksXG4gICAgfSxcbiAgfSksXG4gIGhhbmRsZUFwaUVycm9yOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKG5ldyBSZXNwb25zZSgnRXJyb3InLCB7IHN0YXR1czogNTAwIH0pKSxcbiAgdmFsaWRhdGVTaGFyZVJlcXVlc3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUodHJ1ZSksXG4gIHZhbGlkYXRlT3BlcmF0aW9uc1JlcXVlc3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUodHJ1ZSksXG59KSlcblxuLy8gTW9jayB0aHJvdHRsZSBhbmQgcmV0cnlcbmplc3QubW9jaygnQC9saWIvYXBpLXRocm90dGxlJywgKCkgPT4gKHtcbiAgdGhyb3R0bGVkRHJpdmVSZXF1ZXN0OiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChmbikgPT4gZm4oKSksXG59KSlcblxuamVzdC5tb2NrKCdAL2xpYi9hcGktcmV0cnknLCAoKSA9PiAoe1xuICByZXRyeURyaXZlQXBpQ2FsbDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoZm4pID0+IGZuKCkpLFxufSkpXG5cbmRlc2NyaWJlKCdBUEkgRW5kcG9pbnRzIC0gTmV3IFN0YXRpYyBSb3V0aW5nJywgKCkgPT4ge1xuICBsZXQgbW9ja1JlcXVlc3Q6IE5leHRSZXF1ZXN0XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBjb25zdCBjcmVhdGVNb2NrUmVxdWVzdCA9IChib2R5OiBhbnkpID0+IHtcbiAgICByZXR1cm4gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvdGVzdCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICB9KVxuICB9XG5cbiAgZGVzY3JpYmUoJy9hcGkvZHJpdmUvZmlsZXMvZGV0YWlscycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzaW5nbGUgZmlsZSBkZXRhaWxzIHJlcXVlc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KHsgZmlsZUlkOiAndGVzdC1maWxlLWlkJyB9KVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGRhdGEub3BlcmF0aW9uKS50b0JlKCdkZXRhaWxzJylcbiAgICAgIGV4cGVjdChkYXRhLmZpbGVEZXRhaWxzKS50b0JlRGVmaW5lZCgpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgbWlzc2luZyBmaWxlSWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KHt9KVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKVxuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IpLnRvQmUoJ0ZpbGUgSUQgaXMgcmVxdWlyZWQnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJy9hcGkvZHJpdmUvZmlsZXMvZXNzZW50aWFsJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVzc2VudGlhbCBtZXRhZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoeyBmaWxlSWQ6ICd0ZXN0LWZpbGUtaWQnIH0pXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgRXNzZW50aWFsUE9TVChtb2NrUmVxdWVzdClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoZGF0YS5vcGVyYXRpb24pLnRvQmUoJ2Vzc2VudGlhbCcpXG4gICAgICBleHBlY3QoZGF0YS5maWxlTWV0YWRhdGEpLnRvQmVEZWZpbmVkKClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCcvYXBpL2RyaXZlL2ZpbGVzL2V4dGVuZGVkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGV4dGVuZGVkIG1ldGFkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7IGZpbGVJZDogJ3Rlc3QtZmlsZS1pZCcgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBFeHRlbmRlZFBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGRhdGEub3BlcmF0aW9uKS50b0JlKCdleHRlbmRlZCcpXG4gICAgICBleHBlY3QoZGF0YS5maWxlTWV0YWRhdGEpLnRvQmVEZWZpbmVkKClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCcvYXBpL2RyaXZlL2ZpbGVzL21vdmUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2luZ2xlIGZpbGUgbW92ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3Qoe1xuICAgICAgICBmaWxlSWQ6ICd0ZXN0LWZpbGUtaWQnLFxuICAgICAgICB0YXJnZXRGb2xkZXJJZDogJ3RhcmdldC1mb2xkZXItaWQnLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBNb3ZlUE9TVChtb2NrUmVxdWVzdClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoZGF0YS5vcGVyYXRpb24pLnRvQmUoJ21vdmUnKVxuICAgICAgZXhwZWN0KGRhdGEudHlwZSkudG9CZSgnc2luZ2xlJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYnVsayBmaWxlIG1vdmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KHtcbiAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICB7IGlkOiAnZmlsZTEnLCBuYW1lOiAnZmlsZTEudHh0JywgaXNGb2xkZXI6IGZhbHNlIH0sXG4gICAgICAgICAgeyBpZDogJ2ZpbGUyJywgbmFtZTogJ2ZpbGUyLnR4dCcsIGlzRm9sZGVyOiBmYWxzZSB9LFxuICAgICAgICBdLFxuICAgICAgICB0YXJnZXRGb2xkZXJJZDogJ3RhcmdldC1mb2xkZXItaWQnLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBNb3ZlUE9TVChtb2NrUmVxdWVzdClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoZGF0YS5vcGVyYXRpb24pLnRvQmUoJ21vdmUnKVxuICAgICAgZXhwZWN0KGRhdGEudHlwZSkudG9CZSgnYnVsaycpXG4gICAgICBleHBlY3QoZGF0YS5wcm9jZXNzZWQpLnRvQmUoMilcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBtaXNzaW5nIHRhcmdldEZvbGRlcklkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7IGZpbGVJZDogJ3Rlc3QtZmlsZS1pZCcgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBNb3ZlUE9TVChtb2NrUmVxdWVzdClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApXG4gICAgICBleHBlY3QoZGF0YS5lcnJvcikudG9CZSgnVGFyZ2V0IGZvbGRlciBJRCBpcyByZXF1aXJlZCcpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnL2FwaS9kcml2ZS9maWxlcy9jb3B5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGZpbGUgY29weSBvcGVyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KHtcbiAgICAgICAgZmlsZUlkOiAndGVzdC1maWxlLWlkJyxcbiAgICAgICAgdGFyZ2V0Rm9sZGVySWQ6ICd0YXJnZXQtZm9sZGVyLWlkJyxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQ29weVBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGRhdGEub3BlcmF0aW9uKS50b0JlKCdjb3B5JylcbiAgICAgIGV4cGVjdChkYXRhLnRhcmdldEZvbGRlcklkKS50b0JlKCd0YXJnZXQtZm9sZGVyLWlkJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYnVsayBjb3B5IHdpdGggbmFtZSBwcmVmaXgnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KHtcbiAgICAgICAgaXRlbXM6IFt7IGlkOiAnZmlsZTEnLCBuYW1lOiAnZmlsZTEudHh0JywgaXNGb2xkZXI6IGZhbHNlIH1dLFxuICAgICAgICB0YXJnZXRGb2xkZXJJZDogJ3RhcmdldC1mb2xkZXItaWQnLFxuICAgICAgICBuYW1lUHJlZml4OiAnQ29weV8nLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBDb3B5UE9TVChtb2NrUmVxdWVzdClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXG4gICAgICBleHBlY3QoZGF0YS5uYW1lUHJlZml4KS50b0JlKCdDb3B5XycpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnL2FwaS9kcml2ZS9maWxlcy9yZW5hbWUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2luZ2xlIGZpbGUgcmVuYW1lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7XG4gICAgICAgIGZpbGVJZDogJ3Rlc3QtZmlsZS1pZCcsXG4gICAgICAgIG5ld05hbWU6ICduZXctZmlsZS1uYW1lLnR4dCcsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFJlbmFtZVBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGRhdGEub3BlcmF0aW9uKS50b0JlKCdyZW5hbWUnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBidWxrIHJlbmFtZSB3aXRoIHByZWZpeCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3Qoe1xuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHsgaWQ6ICdmaWxlMScsIG5hbWU6ICdmaWxlMS50eHQnLCBpc0ZvbGRlcjogZmFsc2UgfSxcbiAgICAgICAgICB7IGlkOiAnZmlsZTInLCBuYW1lOiAnZmlsZTIudHh0JywgaXNGb2xkZXI6IGZhbHNlIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG5hbWVQcmVmaXg6ICdCdWxrXycsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFJlbmFtZVBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEudHlwZSkudG9CZSgnYnVsaycpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnL2FwaS9kcml2ZS9maWxlcy90cmFzaCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB0cmFzaCBvcGVyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KHtcbiAgICAgICAgZmlsZUlkOiAndGVzdC1maWxlLWlkJyxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgVHJhc2hQT1NUKG1vY2tSZXF1ZXN0KVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMClcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChkYXRhLm9wZXJhdGlvbikudG9CZSgndHJhc2gnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJy9hcGkvZHJpdmUvZmlsZXMvdW50cmFzaCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bnRyYXNoIG9wZXJhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3Qoe1xuICAgICAgICBmaWxlSWQ6ICd0ZXN0LWZpbGUtaWQnLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBVbnRyYXNoUE9TVChtb2NrUmVxdWVzdClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoZGF0YS5vcGVyYXRpb24pLnRvQmUoJ3VudHJhc2gnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJy9hcGkvZHJpdmUvZmlsZXMvZGVsZXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBlcm1hbmVudCBkZWxldGUgb3BlcmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7XG4gICAgICAgIGZpbGVJZDogJ3Rlc3QtZmlsZS1pZCcsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IERlbGV0ZVBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGRhdGEub3BlcmF0aW9uKS50b0JlKCdkZWxldGUnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJy9hcGkvZHJpdmUvZmlsZXMvc2hhcmUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2hhcmUgb3BlcmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7XG4gICAgICAgIGZpbGVJZDogJ3Rlc3QtZmlsZS1pZCcsXG4gICAgICAgIHBlcm1pc3Npb25zOiBbeyB0eXBlOiAndXNlcicsIHJvbGU6ICdyZWFkZXInLCBlbWFpbEFkZHJlc3M6ICd0ZXN0QGV4YW1wbGUuY29tJyB9XSxcbiAgICAgICAgbm90aWZ5VXNlcnM6IGZhbHNlLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBTaGFyZVBPU1QobW9ja1JlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGRhdGEub3BlcmF0aW9uKS50b0JlKCdzaGFyZScpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnL2FwaS9kcml2ZS9maWxlcy9leHBvcnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXhwb3J0IG9wZXJhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3Qoe1xuICAgICAgICBmaWxlSWQ6ICd0ZXN0LWZpbGUtaWQnLFxuICAgICAgICBleHBvcnRGb3JtYXQ6ICdwZGYnLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBFeHBvcnRQT1NUKG1vY2tSZXF1ZXN0KVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMClcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChkYXRhLm9wZXJhdGlvbikudG9CZSgnZXhwb3J0JylcbiAgICAgIGV4cGVjdChkYXRhLmV4cG9ydEZvcm1hdCkudG9CZSgncGRmJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCcvYXBpL2RyaXZlL2ZpbGVzL2Rvd25sb2FkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNpbmdsZSBmaWxlIGRvd25sb2FkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7XG4gICAgICAgIGZpbGVJZDogJ3Rlc3QtZmlsZS1pZCcsXG4gICAgICAgIGRvd25sb2FkTW9kZTogJ2V4cG9ydExpbmtzJyxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgRG93bmxvYWRQT1NUKG1vY2tSZXF1ZXN0KVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMClcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYnVsayBkb3dubG9hZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3Qoe1xuICAgICAgICBpdGVtczogW3sgaWQ6ICdmaWxlMScsIG5hbWU6ICdmaWxlMS50eHQnLCBpc0ZvbGRlcjogZmFsc2UgfV0sXG4gICAgICAgIGRvd25sb2FkTW9kZTogJ2V4cG9ydExpbmtzJyxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgRG93bmxvYWRQT1NUKG1vY2tSZXF1ZXN0KVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZXJyb3IgZm9yIG1pc3NpbmcgZmlsZUlkIGluIHNpbmdsZSBtb2RlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7XG4gICAgICAgIGRvd25sb2FkTW9kZTogJ29uZUJ5T25lJyxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgRG93bmxvYWRQT1NUKG1vY2tSZXF1ZXN0KVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMClcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yKS50b0JlKCdmaWxlSWQgaXMgcmVxdWlyZWQgZm9yIHNpbmdsZSBmaWxlIGRvd25sb2FkJylcbiAgICB9KVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ0FQSSBFbmRwb2ludHMgLSBFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBhdXRoZW50aWNhdGlvbiBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgYXV0aGVudGljYXRpb24gZmFpbHVyZVxuICAgIGNvbnN0IHsgaW5pdERyaXZlU2VydmljZSB9ID0gcmVxdWlyZSgnQC9saWIvYXBpLXV0aWxzJylcbiAgICBpbml0RHJpdmVTZXJ2aWNlLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgUmVzcG9uc2UoJ1VuYXV0aG9yaXplZCcsIHsgc3RhdHVzOiA0MDEgfSksXG4gICAgfSlcblxuICAgIGNvbnN0IG1vY2tSZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvdGVzdCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGZpbGVJZDogJ3Rlc3QtZmlsZS1pZCcgfSksXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChtb2NrUmVxdWVzdClcbiAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSlcbiAgfSlcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgc2VydmljZSBlcnJvclxuICAgIGNvbnN0IHsgaW5pdERyaXZlU2VydmljZSB9ID0gcmVxdWlyZSgnQC9saWIvYXBpLXV0aWxzJylcbiAgICBpbml0RHJpdmVTZXJ2aWNlLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZHJpdmVTZXJ2aWNlOiB7XG4gICAgICAgIGdldEZpbGVEZXRhaWxzOiBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdTZXJ2aWNlIGVycm9yJykpLFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgY29uc3QgbW9ja1JlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC90ZXN0Jywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZmlsZUlkOiAndGVzdC1maWxlLWlkJyB9KSxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKG1vY2tSZXF1ZXN0KVxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ0FQSSBFbmRwb2ludHMgLSBSZXF1ZXN0IFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gIGNvbnN0IGNyZWF0ZU1vY2tSZXF1ZXN0ID0gKGJvZHk6IGFueSkgPT4ge1xuICAgIHJldHVybiBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC90ZXN0Jywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIH0pXG4gIH1cblxuICBpdCgnc2hvdWxkIHZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkcyBmb3IgZWFjaCBlbmRwb2ludCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBUZXN0IG1pc3NpbmcgZmlsZUlkIGZvciBkZXRhaWxzIGVuZHBvaW50XG4gICAgY29uc3QgZGV0YWlsc1JlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCh7fSlcbiAgICBjb25zdCBkZXRhaWxzUmVzcG9uc2UgPSBhd2FpdCBQT1NUKGRldGFpbHNSZXF1ZXN0KVxuICAgIGV4cGVjdChkZXRhaWxzUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMClcblxuICAgIC8vIFRlc3QgbWlzc2luZyB0YXJnZXRGb2xkZXJJZCBmb3IgbW92ZSBlbmRwb2ludFxuICAgIGNvbnN0IG1vdmVSZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoeyBmaWxlSWQ6ICd0ZXN0JyB9KVxuICAgIGNvbnN0IG1vdmVSZXNwb25zZSA9IGF3YWl0IE1vdmVQT1NUKG1vdmVSZXF1ZXN0KVxuICAgIGV4cGVjdChtb3ZlUmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMClcbiAgfSlcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgSlNPTicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtYWxmb3JtZWRSZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvdGVzdCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiAnaW52YWxpZC1qc29uJyxcbiAgICB9KVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IFBPU1QobWFsZm9ybWVkUmVxdWVzdClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZXhwZWN0KGVycm9yKS50b0JlSW5zdGFuY2VPZihFcnJvcilcbiAgICB9XG4gIH0pXG59KVxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiZGVmYXVsdCIsImZuIiwiaGFuZGxlcnMiLCJHRVQiLCJQT1NUIiwiYXV0aCIsInNpZ25JbiIsInNpZ25PdXQiLCJHb29nbGVEcml2ZVNlcnZpY2UiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJnZXRGaWxlRGV0YWlscyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiaWQiLCJuYW1lIiwibWltZVR5cGUiLCJzaXplIiwiY3JlYXRlZFRpbWUiLCJtb2RpZmllZFRpbWUiLCJnZXRGaWxlTWV0YWRhdGEiLCJtb3ZlRmlsZSIsInN1Y2Nlc3MiLCJjb3B5RmlsZSIsInJlbmFtZUZpbGUiLCJtb3ZlVG9UcmFzaCIsInVudHJhc2hGaWxlIiwiZGVsZXRlRmlsZSIsInNoYXJlRmlsZSIsImV4cG9ydEZpbGUiLCJBcnJheUJ1ZmZlciIsImRvd25sb2FkRmlsZSIsImluaXREcml2ZVNlcnZpY2UiLCJkcml2ZVNlcnZpY2UiLCJoYW5kbGVBcGlFcnJvciIsIm1vY2tSZXR1cm5WYWx1ZSIsIlJlc3BvbnNlIiwic3RhdHVzIiwidmFsaWRhdGVTaGFyZVJlcXVlc3QiLCJ2YWxpZGF0ZU9wZXJhdGlvbnNSZXF1ZXN0IiwidGhyb3R0bGVkRHJpdmVSZXF1ZXN0IiwicmV0cnlEcml2ZUFwaUNhbGwiLCJkZXNjcmliZSIsIm1vY2tSZXF1ZXN0IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJjcmVhdGVNb2NrUmVxdWVzdCIsImJvZHkiLCJOZXh0UmVxdWVzdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiaXQiLCJmaWxlSWQiLCJyZXNwb25zZSIsImRhdGEiLCJqc29uIiwiZXhwZWN0IiwidG9CZSIsIm9wZXJhdGlvbiIsImZpbGVEZXRhaWxzIiwidG9CZURlZmluZWQiLCJlcnJvciIsIkVzc2VudGlhbFBPU1QiLCJmaWxlTWV0YWRhdGEiLCJFeHRlbmRlZFBPU1QiLCJ0YXJnZXRGb2xkZXJJZCIsIk1vdmVQT1NUIiwidHlwZSIsIml0ZW1zIiwiaXNGb2xkZXIiLCJwcm9jZXNzZWQiLCJDb3B5UE9TVCIsIm5hbWVQcmVmaXgiLCJuZXdOYW1lIiwiUmVuYW1lUE9TVCIsIlRyYXNoUE9TVCIsIlVudHJhc2hQT1NUIiwiRGVsZXRlUE9TVCIsInBlcm1pc3Npb25zIiwicm9sZSIsImVtYWlsQWRkcmVzcyIsIm5vdGlmeVVzZXJzIiwiU2hhcmVQT1NUIiwiZXhwb3J0Rm9ybWF0IiwiRXhwb3J0UE9TVCIsImRvd25sb2FkTW9kZSIsIkRvd25sb2FkUE9TVCIsInJlcXVpcmUiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiZGV0YWlsc1JlcXVlc3QiLCJkZXRhaWxzUmVzcG9uc2UiLCJtb3ZlUmVxdWVzdCIsIm1vdmVSZXNwb25zZSIsIm1hbGZvcm1lZFJlcXVlc3QiLCJ0b0JlSW5zdGFuY2VPZiJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDO0FBZ0JELGdCQUFnQjtBQUNoQkEsS0FBS0MsSUFBSSxDQUFDLGFBQWEsSUFBTyxDQUFBO1FBQzVCQyxTQUFTRixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO2dCQUN0QkMsVUFBVTtvQkFBRUMsS0FBS0wsS0FBS0csRUFBRTtvQkFBSUcsTUFBTU4sS0FBS0csRUFBRTtnQkFBRztnQkFD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
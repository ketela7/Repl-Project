5b6d9f90b592089098558857bea847a0
/**
 * Comprehensive API Testing Suite
 * Tests all Google Drive API endpoints with real session cookies
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _testsetup = /*#__PURE__*/ _interop_require_default(require("./test-setup"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Test configuration
const testConfig = {
    baseUrl: 'http://localhost:5000',
    sessionCookie: '',
    testTimeout: 30000,
    retryAttempts: 3
};
/**
 * Extended API Tester with comprehensive endpoint coverage
 */ class ComprehensiveAPITester extends _testsetup.default {
    /**
   * Test all authentication endpoints
   */ async testAuthEndpoints() {
        console.log('\nüîê Testing Authentication Endpoints...');
        const authTests = [];
        authTests.push(await this.apiRequest('/api/auth/session', 'GET'));
        authTests.push(await this.apiRequest('/api/auth/providers', 'GET'));
        return authTests;
    }
    /**
   * Test complete Files API with all parameters
   */ async testCompleteFilesAPI() {
        console.log('\nüìÅ Testing Complete Files API...');
        const filesTests = [];
        // Basic file listing with various parameters
        filesTests.push(await this.apiRequest('/api/drive/files', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?pageSize=10', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?pageSize=50', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?pageSize=100', 'GET'));
        // Sorting variations
        filesTests.push(await this.apiRequest('/api/drive/files?sortBy=name&sortOrder=asc', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?sortBy=name&sortOrder=desc', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?sortBy=modified&sortOrder=asc', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?sortBy=modified&sortOrder=desc', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?sortBy=created&sortOrder=asc', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?sortBy=size&sortOrder=desc', 'GET'));
        // View status filters
        filesTests.push(await this.apiRequest('/api/drive/files?viewStatus=all', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?viewStatus=my-drive', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?viewStatus=shared', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?viewStatus=starred', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?viewStatus=trash', 'GET'));
        // File type filters
        filesTests.push(await this.apiRequest('/api/drive/files?fileType=folder', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?fileType=document', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?fileType=image', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?fileType=video', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?fileType=audio', 'GET'));
        // Search queries
        filesTests.push(await this.apiRequest('/api/drive/files?q=type:video', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?q=type:folder', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?search=mp4', 'GET'));
        // Folder navigation (using real folder IDs from Drive)
        filesTests.push(await this.apiRequest('/api/drive/files?folderId=149athC5H8cmh0QJq6xHu-cbFyS9J6fk-', 'GET'));
        filesTests.push(await this.apiRequest('/api/drive/files?folderId=1r-sGh52GdpwLYGvay85I999Wekr5XqVh', 'GET'));
        return filesTests;
    }
    /**
   * Test individual file detail endpoints
   */ async testFileDetailEndpoints() {
        console.log('\nüìÑ Testing File Detail Endpoints...');
        const detailTests = [];
        // Using real file IDs from your Drive
        const testFiles = [
            '1q5xt1XgsroFmbYL1HWO1q3DzVvynDU0B',
            '149athC5H8cmh0QJq6xHu-cbFyS9J6fk-',
            '1r-sGh52GdpwLYGvay85I999Wekr5XqVh'
        ];
        for (const fileId of testFiles){
            // Full file details
            detailTests.push(await this.apiRequest(`/api/drive/files/${fileId}`, 'GET'));
            // Progressive loading endpoints
            detailTests.push(await this.apiRequest(`/api/drive/files/${fileId}/essential`, 'GET'));
            detailTests.push(await this.apiRequest(`/api/drive/files/${fileId}/extended`, 'GET'));
        }
        return detailTests;
    }
    /**
   * Test all bulk operation endpoints (safe operations only)
   */ async testBulkOperationEndpoints() {
        console.log('\nüîÑ Testing Bulk Operation Endpoints...');
        const bulkTests = [];
        const testItems = [
            {
                id: '1q5xt1XgsroFmbYL1HWO1q3DzVvynDU0B',
                name: 'test-video.mp4',
                isFolder: false
            },
            {
                id: '149athC5H8cmh0QJq6xHu-cbFyS9J6fk-',
                name: 'test-folder',
                isFolder: true
            }
        ];
        // Download operations (safe, read-only)
        bulkTests.push(await this.apiRequest('/api/drive/files/bulk/download', 'POST', {
            items: testItems,
            mode: 'export-links'
        }));
        // Test individual operation endpoints (without actually performing destructive operations)
        const fileId = testItems[0].id;
        // These endpoints should be tested with GET requests to check availability
        bulkTests.push(await this.apiRequest(`/api/drive/files/${fileId}/move`, 'GET'));
        bulkTests.push(await this.apiRequest(`/api/drive/files/${fileId}/copy`, 'GET'));
        bulkTests.push(await this.apiRequest(`/api/drive/files/${fileId}/trash`, 'GET'));
        bulkTests.push(await this.apiRequest(`/api/drive/files/${fileId}/share`, 'GET'));
        bulkTests.push(await this.apiRequest(`/api/drive/files/${fileId}/rename`, 'GET'));
        bulkTests.push(await this.apiRequest(`/api/drive/files/${fileId}/download`, 'GET'));
        return bulkTests;
    }
    /**
   * Test performance and monitoring endpoints
   */ async testPerformanceEndpoints() {
        console.log('\n‚ö° Testing Performance Endpoints...');
        const perfTests = [];
        perfTests.push(await this.apiRequest('/api/health', 'GET'));
        perfTests.push(await this.apiRequest('/api/drive/performance', 'GET'));
        // Cache management endpoints
        perfTests.push(await this.apiRequest('/api/cache/clear', 'POST'));
        return perfTests;
    }
    /**
   * Test error handling and edge cases
   */ async testErrorHandling() {
        console.log('\n‚ùå Testing Error Handling...');
        const errorTests = [];
        // Test with invalid file IDs
        errorTests.push(await this.apiRequest('/api/drive/files/invalid-file-id', 'GET'));
        errorTests.push(await this.apiRequest('/api/drive/files/invalid-file-id/essential', 'GET'));
        // Test with invalid parameters
        errorTests.push(await this.apiRequest('/api/drive/files?pageSize=invalid', 'GET'));
        errorTests.push(await this.apiRequest('/api/drive/files?sortBy=invalid', 'GET'));
        errorTests.push(await this.apiRequest('/api/drive/files?viewStatus=invalid', 'GET'));
        // Test with invalid folder IDs
        errorTests.push(await this.apiRequest('/api/drive/files?folderId=invalid-folder', 'GET'));
        return errorTests;
    }
    /**
   * Test rate limiting and concurrent requests
   */ async testConcurrentRequests() {
        console.log('\nüöÄ Testing Concurrent Requests...');
        const concurrentTests = [];
        // Create multiple concurrent requests
        const concurrentPromises = [];
        for(let i = 0; i < 5; i++){
            concurrentPromises.push(this.apiRequest('/api/drive/files?pageSize=10', 'GET'));
        }
        const results = await Promise.all(concurrentPromises);
        concurrentTests.push(...results);
        return concurrentTests;
    }
    /**
   * Run complete comprehensive test suite
   */ async runComprehensiveTests() {
        console.log('üß™ Starting Comprehensive API Testing Suite...');
        console.log('üéØ Target: All Google Drive Pro API endpoints');
        console.log('üìß Using real session with Drive access');
        const startTime = Date.now();
        try {
            // Validate session first
            const session = await this.validateSession();
            if (!session) {
                throw new Error('Session validation failed - cannot proceed with testing');
            }
            console.log(`‚úÖ Session validated for: ${session.email}`);
            // Run all test suites
            const allTests = [
                ...await this.testAuthEndpoints(),
                ...await this.testCompleteFilesAPI(),
                ...await this.testFileDetailEndpoints(),
                ...await this.testBulkOperationEndpoints(),
                ...await this.testPerformanceEndpoints(),
                ...await this.testErrorHandling(),
                ...await this.testConcurrentRequests()
            ];
            const totalTime = Date.now() - startTime;
            // Calculate comprehensive statistics
            const passed = allTests.filter((t)=>t.success).length;
            const failed = allTests.length - passed;
            const responseTimes = allTests.map((t)=>t.responseTime);
            const averageResponseTime = responseTimes.reduce((a, b)=>a + b, 0) / responseTimes.length;
            // Group results by endpoint category
            const categoryStats = this.categorizeResults(allTests);
            // Performance analysis
            const slowest = allTests.reduce((prev, curr)=>prev.responseTime > curr.responseTime ? prev : curr);
            const fastest = allTests.reduce((prev, curr)=>prev.responseTime < curr.responseTime ? prev : curr);
            const summary = {
                totalTests: allTests.length,
                passed,
                failed,
                successRate: Math.round(passed / allTests.length * 100),
                totalTime: Math.round(totalTime / 1000),
                performance: {
                    averageResponseTime: Math.round(averageResponseTime),
                    slowestEndpoint: `${slowest.endpoint} (${slowest.responseTime}ms)`,
                    fastestEndpoint: `${fastest.endpoint} (${fastest.responseTime}ms)`
                },
                categoryStats,
                results: allTests
            };
            this.printComprehensiveSummary(summary);
            return summary;
        } catch (error) {
            console.error('‚ùå Comprehensive testing failed:', error);
            throw error;
        }
    }
    /**
   * Categorize test results by endpoint type
   */ categorizeResults(results) {
        const categories = {
            auth: {
                total: 0,
                passed: 0,
                avgTime: 0
            },
            files: {
                total: 0,
                passed: 0,
                avgTime: 0
            },
            details: {
                total: 0,
                passed: 0,
                avgTime: 0
            },
            bulk: {
                total: 0,
                passed: 0,
                avgTime: 0
            },
            performance: {
                total: 0,
                passed: 0,
                avgTime: 0
            },
            errors: {
                total: 0,
                passed: 0,
                avgTime: 0
            }
        };
        results.forEach((result)=>{
            let category = 'files' // default
            ;
            if (result.endpoint.includes('/auth/')) category = 'auth';
            else if (result.endpoint.includes('/bulk/') || result.endpoint.includes('/move') || result.endpoint.includes('/copy') || result.endpoint.includes('/trash')) category = 'bulk';
            else if (result.endpoint.includes('/essential') || result.endpoint.includes('/extended')) category = 'details';
            else if (result.endpoint.includes('/health') || result.endpoint.includes('/performance') || result.endpoint.includes('/cache')) category = 'performance';
            else if (result.endpoint.includes('invalid')) category = 'errors';
            categories[category].total++;
            if (result.success) categories[category].passed++;
            categories[category].avgTime += result.responseTime;
        });
        // Calculate averages
        Object.keys(categories).forEach((cat)=>{
            const category = categories[cat];
            if (category.total > 0) {
                category.avgTime = Math.round(category.avgTime / category.total);
                category.successRate = Math.round(category.passed / category.total * 100);
            }
        });
        return categories;
    }
    /**
   * Print comprehensive test summary
   */ printComprehensiveSummary(summary) {
        console.log('\n' + '='.repeat(60));
        console.log('üìä COMPREHENSIVE API TEST SUMMARY');
        console.log('='.repeat(60));
        console.log(`üß™ Total Tests: ${summary.totalTests}`);
        console.log(`‚úÖ Passed: ${summary.passed}`);
        console.log(`‚ùå Failed: ${summary.failed}`);
        console.log(`üìà Success Rate: ${summary.successRate}%`);
        console.log(`‚è±Ô∏è  Total Time: ${summary.totalTime}s`);
        console.log('\nüìà Performance Metrics:');
        console.log(`   Average Response Time: ${summary.performance.averageResponseTime}ms`);
        console.log(`   Slowest: ${summary.performance.slowestEndpoint}`);
        console.log(`   Fastest: ${summary.performance.fastestEndpoint}`);
        console.log('\nüìÇ Category Breakdown:');
        Object.entries(summary.categoryStats).forEach(([category, stats])=>{
            if (stats.total > 0) {
                console.log(`   ${category.toUpperCase()}: ${stats.passed}/${stats.total} (${stats.successRate}%) - Avg: ${stats.avgTime}ms`);
            }
        });
        console.log('\n' + '='.repeat(60));
    }
}
// Add dummy test to prevent "no tests" error
describe('Comprehensive API Test', ()=>{
    it('exports ComprehensiveAPITester class', ()=>{
        expect(ComprehensiveAPITester).toBeDefined();
    });
});
const _default = ComprehensiveAPITester;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvX190ZXN0c19fL2FwaS9jb21wcmVoZW5zaXZlLWFwaS10ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tcHJlaGVuc2l2ZSBBUEkgVGVzdGluZyBTdWl0ZVxuICogVGVzdHMgYWxsIEdvb2dsZSBEcml2ZSBBUEkgZW5kcG9pbnRzIHdpdGggcmVhbCBzZXNzaW9uIGNvb2tpZXNcbiAqL1xuXG5pbXBvcnQgQVBJVGVzdGVyLCB7IFRlc3RDb25maWcgfSBmcm9tICcuL3Rlc3Qtc2V0dXAnXG5cbi8vIFRlc3QgY29uZmlndXJhdGlvblxuY29uc3QgdGVzdENvbmZpZzogVGVzdENvbmZpZyA9IHtcbiAgYmFzZVVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCcsXG4gIHNlc3Npb25Db29raWU6ICcnLCAvLyBXaWxsIGJlIGV4dHJhY3RlZCBmcm9tIGJyb3dzZXJcbiAgdGVzdFRpbWVvdXQ6IDMwMDAwLFxuICByZXRyeUF0dGVtcHRzOiAzLFxufVxuXG4vKipcbiAqIEV4dGVuZGVkIEFQSSBUZXN0ZXIgd2l0aCBjb21wcmVoZW5zaXZlIGVuZHBvaW50IGNvdmVyYWdlXG4gKi9cbmNsYXNzIENvbXByZWhlbnNpdmVBUElUZXN0ZXIgZXh0ZW5kcyBBUElUZXN0ZXIge1xuICAvKipcbiAgICogVGVzdCBhbGwgYXV0aGVudGljYXRpb24gZW5kcG9pbnRzXG4gICAqL1xuICBhc3luYyB0ZXN0QXV0aEVuZHBvaW50cygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgY29uc29sZS5sb2coJ1xcbvCflJAgVGVzdGluZyBBdXRoZW50aWNhdGlvbiBFbmRwb2ludHMuLi4nKVxuICAgIGNvbnN0IGF1dGhUZXN0cyA9IFtdXG5cbiAgICBhdXRoVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvYXV0aC9zZXNzaW9uJywgJ0dFVCcpKVxuICAgIGF1dGhUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9hdXRoL3Byb3ZpZGVycycsICdHRVQnKSlcblxuICAgIHJldHVybiBhdXRoVGVzdHNcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGNvbXBsZXRlIEZpbGVzIEFQSSB3aXRoIGFsbCBwYXJhbWV0ZXJzXG4gICAqL1xuICBhc3luYyB0ZXN0Q29tcGxldGVGaWxlc0FQSSgpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgY29uc29sZS5sb2coJ1xcbvCfk4EgVGVzdGluZyBDb21wbGV0ZSBGaWxlcyBBUEkuLi4nKVxuICAgIGNvbnN0IGZpbGVzVGVzdHMgPSBbXVxuXG4gICAgLy8gQmFzaWMgZmlsZSBsaXN0aW5nIHdpdGggdmFyaW91cyBwYXJhbWV0ZXJzXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcycsICdHRVQnKSlcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3BhZ2VTaXplPTEwJywgJ0dFVCcpKVxuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/cGFnZVNpemU9NTAnLCAnR0VUJykpXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz9wYWdlU2l6ZT0xMDAnLCAnR0VUJykpXG5cbiAgICAvLyBTb3J0aW5nIHZhcmlhdGlvbnNcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3NvcnRCeT1uYW1lJnNvcnRPcmRlcj1hc2MnLCAnR0VUJykpXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz9zb3J0Qnk9bmFtZSZzb3J0T3JkZXI9ZGVzYycsICdHRVQnKSlcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3NvcnRCeT1tb2RpZmllZCZzb3J0T3JkZXI9YXNjJywgJ0dFVCcpKVxuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/c29ydEJ5PW1vZGlmaWVkJnNvcnRPcmRlcj1kZXNjJywgJ0dFVCcpKVxuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/c29ydEJ5PWNyZWF0ZWQmc29ydE9yZGVyPWFzYycsICdHRVQnKSlcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3NvcnRCeT1zaXplJnNvcnRPcmRlcj1kZXNjJywgJ0dFVCcpKVxuXG4gICAgLy8gVmlldyBzdGF0dXMgZmlsdGVyc1xuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/dmlld1N0YXR1cz1hbGwnLCAnR0VUJykpXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz92aWV3U3RhdHVzPW15LWRyaXZlJywgJ0dFVCcpKVxuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/dmlld1N0YXR1cz1zaGFyZWQnLCAnR0VUJykpXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz92aWV3U3RhdHVzPXN0YXJyZWQnLCAnR0VUJykpXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz92aWV3U3RhdHVzPXRyYXNoJywgJ0dFVCcpKVxuXG4gICAgLy8gRmlsZSB0eXBlIGZpbHRlcnNcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP2ZpbGVUeXBlPWZvbGRlcicsICdHRVQnKSlcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP2ZpbGVUeXBlPWRvY3VtZW50JywgJ0dFVCcpKVxuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/ZmlsZVR5cGU9aW1hZ2UnLCAnR0VUJykpXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz9maWxlVHlwZT12aWRlbycsICdHRVQnKSlcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP2ZpbGVUeXBlPWF1ZGlvJywgJ0dFVCcpKVxuXG4gICAgLy8gU2VhcmNoIHF1ZXJpZXNcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3E9dHlwZTp2aWRlbycsICdHRVQnKSlcbiAgICBmaWxlc1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3E9dHlwZTpmb2xkZXInLCAnR0VUJykpXG4gICAgZmlsZXNUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz9zZWFyY2g9bXA0JywgJ0dFVCcpKVxuXG4gICAgLy8gRm9sZGVyIG5hdmlnYXRpb24gKHVzaW5nIHJlYWwgZm9sZGVyIElEcyBmcm9tIERyaXZlKVxuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/Zm9sZGVySWQ9MTQ5YXRoQzVIOGNtaDBRSnE2eEh1LWNiRnlTOUo2ZmstJywgJ0dFVCcpKVxuICAgIGZpbGVzVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXM/Zm9sZGVySWQ9MXItc0doNTJHZHB3TFlHdmF5ODVJOTk5V2VrcjVYcVZoJywgJ0dFVCcpKVxuXG4gICAgcmV0dXJuIGZpbGVzVGVzdHNcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGluZGl2aWR1YWwgZmlsZSBkZXRhaWwgZW5kcG9pbnRzXG4gICAqL1xuICBhc3luYyB0ZXN0RmlsZURldGFpbEVuZHBvaW50cygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgY29uc29sZS5sb2coJ1xcbvCfk4QgVGVzdGluZyBGaWxlIERldGFpbCBFbmRwb2ludHMuLi4nKVxuICAgIGNvbnN0IGRldGFpbFRlc3RzID0gW11cblxuICAgIC8vIFVzaW5nIHJlYWwgZmlsZSBJRHMgZnJvbSB5b3VyIERyaXZlXG4gICAgY29uc3QgdGVzdEZpbGVzID0gW1xuICAgICAgJzFxNXh0MVhnc3JvRm1iWUwxSFdPMXEzRHpWdnluRFUwQicsIC8vIFZpZGVvIGZpbGVcbiAgICAgICcxNDlhdGhDNUg4Y21oMFFKcTZ4SHUtY2JGeVM5SjZmay0nLCAvLyBGb2xkZXIgXCIwMFwiXG4gICAgICAnMXItc0doNTJHZHB3TFlHdmF5ODVJOTk5V2VrcjVYcVZoJywgLy8gQW5vdGhlciBmb2xkZXJcbiAgICBdXG5cbiAgICBmb3IgKGNvbnN0IGZpbGVJZCBvZiB0ZXN0RmlsZXMpIHtcbiAgICAgIC8vIEZ1bGwgZmlsZSBkZXRhaWxzXG4gICAgICBkZXRhaWxUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdChgL2FwaS9kcml2ZS9maWxlcy8ke2ZpbGVJZH1gLCAnR0VUJykpXG5cbiAgICAgIC8vIFByb2dyZXNzaXZlIGxvYWRpbmcgZW5kcG9pbnRzXG4gICAgICBkZXRhaWxUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdChgL2FwaS9kcml2ZS9maWxlcy8ke2ZpbGVJZH0vZXNzZW50aWFsYCwgJ0dFVCcpKVxuICAgICAgZGV0YWlsVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoYC9hcGkvZHJpdmUvZmlsZXMvJHtmaWxlSWR9L2V4dGVuZGVkYCwgJ0dFVCcpKVxuICAgIH1cblxuICAgIHJldHVybiBkZXRhaWxUZXN0c1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgYWxsIGJ1bGsgb3BlcmF0aW9uIGVuZHBvaW50cyAoc2FmZSBvcGVyYXRpb25zIG9ubHkpXG4gICAqL1xuICBhc3luYyB0ZXN0QnVsa09wZXJhdGlvbkVuZHBvaW50cygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgY29uc29sZS5sb2coJ1xcbvCflIQgVGVzdGluZyBCdWxrIE9wZXJhdGlvbiBFbmRwb2ludHMuLi4nKVxuICAgIGNvbnN0IGJ1bGtUZXN0cyA9IFtdXG5cbiAgICBjb25zdCB0ZXN0SXRlbXMgPSBbXG4gICAgICB7IGlkOiAnMXE1eHQxWGdzcm9GbWJZTDFIV08xcTNEelZ2eW5EVTBCJywgbmFtZTogJ3Rlc3QtdmlkZW8ubXA0JywgaXNGb2xkZXI6IGZhbHNlIH0sXG4gICAgICB7IGlkOiAnMTQ5YXRoQzVIOGNtaDBRSnE2eEh1LWNiRnlTOUo2ZmstJywgbmFtZTogJ3Rlc3QtZm9sZGVyJywgaXNGb2xkZXI6IHRydWUgfSxcbiAgICBdXG5cbiAgICAvLyBEb3dubG9hZCBvcGVyYXRpb25zIChzYWZlLCByZWFkLW9ubHkpXG4gICAgYnVsa1Rlc3RzLnB1c2goXG4gICAgICBhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXMvYnVsay9kb3dubG9hZCcsICdQT1NUJywge1xuICAgICAgICBpdGVtczogdGVzdEl0ZW1zLFxuICAgICAgICBtb2RlOiAnZXhwb3J0LWxpbmtzJyxcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgLy8gVGVzdCBpbmRpdmlkdWFsIG9wZXJhdGlvbiBlbmRwb2ludHMgKHdpdGhvdXQgYWN0dWFsbHkgcGVyZm9ybWluZyBkZXN0cnVjdGl2ZSBvcGVyYXRpb25zKVxuICAgIGNvbnN0IGZpbGVJZCA9IHRlc3RJdGVtc1swXS5pZFxuXG4gICAgLy8gVGhlc2UgZW5kcG9pbnRzIHNob3VsZCBiZSB0ZXN0ZWQgd2l0aCBHRVQgcmVxdWVzdHMgdG8gY2hlY2sgYXZhaWxhYmlsaXR5XG4gICAgYnVsa1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KGAvYXBpL2RyaXZlL2ZpbGVzLyR7ZmlsZUlkfS9tb3ZlYCwgJ0dFVCcpKVxuICAgIGJ1bGtUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdChgL2FwaS9kcml2ZS9maWxlcy8ke2ZpbGVJZH0vY29weWAsICdHRVQnKSlcbiAgICBidWxrVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoYC9hcGkvZHJpdmUvZmlsZXMvJHtmaWxlSWR9L3RyYXNoYCwgJ0dFVCcpKVxuICAgIGJ1bGtUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdChgL2FwaS9kcml2ZS9maWxlcy8ke2ZpbGVJZH0vc2hhcmVgLCAnR0VUJykpXG4gICAgYnVsa1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KGAvYXBpL2RyaXZlL2ZpbGVzLyR7ZmlsZUlkfS9yZW5hbWVgLCAnR0VUJykpXG4gICAgYnVsa1Rlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KGAvYXBpL2RyaXZlL2ZpbGVzLyR7ZmlsZUlkfS9kb3dubG9hZGAsICdHRVQnKSlcblxuICAgIHJldHVybiBidWxrVGVzdHNcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IHBlcmZvcm1hbmNlIGFuZCBtb25pdG9yaW5nIGVuZHBvaW50c1xuICAgKi9cbiAgYXN5bmMgdGVzdFBlcmZvcm1hbmNlRW5kcG9pbnRzKCk6IFByb21pc2U8YW55W10+IHtcbiAgICBjb25zb2xlLmxvZygnXFxu4pqhIFRlc3RpbmcgUGVyZm9ybWFuY2UgRW5kcG9pbnRzLi4uJylcbiAgICBjb25zdCBwZXJmVGVzdHMgPSBbXVxuXG4gICAgcGVyZlRlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2hlYWx0aCcsICdHRVQnKSlcbiAgICBwZXJmVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvcGVyZm9ybWFuY2UnLCAnR0VUJykpXG5cbiAgICAvLyBDYWNoZSBtYW5hZ2VtZW50IGVuZHBvaW50c1xuICAgIHBlcmZUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9jYWNoZS9jbGVhcicsICdQT1NUJykpXG5cbiAgICByZXR1cm4gcGVyZlRlc3RzXG4gIH1cblxuICAvKipcbiAgICogVGVzdCBlcnJvciBoYW5kbGluZyBhbmQgZWRnZSBjYXNlc1xuICAgKi9cbiAgYXN5bmMgdGVzdEVycm9ySGFuZGxpbmcoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGNvbnNvbGUubG9nKCdcXG7inYwgVGVzdGluZyBFcnJvciBIYW5kbGluZy4uLicpXG4gICAgY29uc3QgZXJyb3JUZXN0cyA9IFtdXG5cbiAgICAvLyBUZXN0IHdpdGggaW52YWxpZCBmaWxlIElEc1xuICAgIGVycm9yVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXMvaW52YWxpZC1maWxlLWlkJywgJ0dFVCcpKVxuICAgIGVycm9yVGVzdHMucHVzaChhd2FpdCB0aGlzLmFwaVJlcXVlc3QoJy9hcGkvZHJpdmUvZmlsZXMvaW52YWxpZC1maWxlLWlkL2Vzc2VudGlhbCcsICdHRVQnKSlcblxuICAgIC8vIFRlc3Qgd2l0aCBpbnZhbGlkIHBhcmFtZXRlcnNcbiAgICBlcnJvclRlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3BhZ2VTaXplPWludmFsaWQnLCAnR0VUJykpXG4gICAgZXJyb3JUZXN0cy5wdXNoKGF3YWl0IHRoaXMuYXBpUmVxdWVzdCgnL2FwaS9kcml2ZS9maWxlcz9zb3J0Qnk9aW52YWxpZCcsICdHRVQnKSlcbiAgICBlcnJvclRlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3ZpZXdTdGF0dXM9aW52YWxpZCcsICdHRVQnKSlcblxuICAgIC8vIFRlc3Qgd2l0aCBpbnZhbGlkIGZvbGRlciBJRHNcbiAgICBlcnJvclRlc3RzLnB1c2goYXdhaXQgdGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP2ZvbGRlcklkPWludmFsaWQtZm9sZGVyJywgJ0dFVCcpKVxuXG4gICAgcmV0dXJuIGVycm9yVGVzdHNcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IHJhdGUgbGltaXRpbmcgYW5kIGNvbmN1cnJlbnQgcmVxdWVzdHNcbiAgICovXG4gIGFzeW5jIHRlc3RDb25jdXJyZW50UmVxdWVzdHMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIGNvbnNvbGUubG9nKCdcXG7wn5qAIFRlc3RpbmcgQ29uY3VycmVudCBSZXF1ZXN0cy4uLicpXG4gICAgY29uc3QgY29uY3VycmVudFRlc3RzID0gW11cblxuICAgIC8vIENyZWF0ZSBtdWx0aXBsZSBjb25jdXJyZW50IHJlcXVlc3RzXG4gICAgY29uc3QgY29uY3VycmVudFByb21pc2VzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgY29uY3VycmVudFByb21pc2VzLnB1c2godGhpcy5hcGlSZXF1ZXN0KCcvYXBpL2RyaXZlL2ZpbGVzP3BhZ2VTaXplPTEwJywgJ0dFVCcpKVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChjb25jdXJyZW50UHJvbWlzZXMpXG4gICAgY29uY3VycmVudFRlc3RzLnB1c2goLi4ucmVzdWx0cylcblxuICAgIHJldHVybiBjb25jdXJyZW50VGVzdHNcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gY29tcGxldGUgY29tcHJlaGVuc2l2ZSB0ZXN0IHN1aXRlXG4gICAqL1xuICBhc3luYyBydW5Db21wcmVoZW5zaXZlVGVzdHMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zb2xlLmxvZygn8J+nqiBTdGFydGluZyBDb21wcmVoZW5zaXZlIEFQSSBUZXN0aW5nIFN1aXRlLi4uJylcbiAgICBjb25zb2xlLmxvZygn8J+OryBUYXJnZXQ6IEFsbCBHb29nbGUgRHJpdmUgUHJvIEFQSSBlbmRwb2ludHMnKVxuICAgIGNvbnNvbGUubG9nKCfwn5OnIFVzaW5nIHJlYWwgc2Vzc2lvbiB3aXRoIERyaXZlIGFjY2VzcycpXG5cbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG5cbiAgICB0cnkge1xuICAgICAgLy8gVmFsaWRhdGUgc2Vzc2lvbiBmaXJzdFxuICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMudmFsaWRhdGVTZXNzaW9uKClcbiAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gdmFsaWRhdGlvbiBmYWlsZWQgLSBjYW5ub3QgcHJvY2VlZCB3aXRoIHRlc3RpbmcnKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFNlc3Npb24gdmFsaWRhdGVkIGZvcjogJHtzZXNzaW9uLmVtYWlsfWApXG5cbiAgICAgIC8vIFJ1biBhbGwgdGVzdCBzdWl0ZXNcbiAgICAgIGNvbnN0IGFsbFRlc3RzID0gW1xuICAgICAgICAuLi4oYXdhaXQgdGhpcy50ZXN0QXV0aEVuZHBvaW50cygpKSxcbiAgICAgICAgLi4uKGF3YWl0IHRoaXMudGVzdENvbXBsZXRlRmlsZXNBUEkoKSksXG4gICAgICAgIC4uLihhd2FpdCB0aGlzLnRlc3RGaWxlRGV0YWlsRW5kcG9pbnRzKCkpLFxuICAgICAgICAuLi4oYXdhaXQgdGhpcy50ZXN0QnVsa09wZXJhdGlvbkVuZHBvaW50cygpKSxcbiAgICAgICAgLi4uKGF3YWl0IHRoaXMudGVzdFBlcmZvcm1hbmNlRW5kcG9pbnRzKCkpLFxuICAgICAgICAuLi4oYXdhaXQgdGhpcy50ZXN0RXJyb3JIYW5kbGluZygpKSxcbiAgICAgICAgLi4uKGF3YWl0IHRoaXMudGVzdENvbmN1cnJlbnRSZXF1ZXN0cygpKSxcbiAgICAgIF1cblxuICAgICAgY29uc3QgdG90YWxUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuXG4gICAgICAvLyBDYWxjdWxhdGUgY29tcHJlaGVuc2l2ZSBzdGF0aXN0aWNzXG4gICAgICBjb25zdCBwYXNzZWQgPSBhbGxUZXN0cy5maWx0ZXIoKHQpID0+IHQuc3VjY2VzcykubGVuZ3RoXG4gICAgICBjb25zdCBmYWlsZWQgPSBhbGxUZXN0cy5sZW5ndGggLSBwYXNzZWRcbiAgICAgIGNvbnN0IHJlc3BvbnNlVGltZXMgPSBhbGxUZXN0cy5tYXAoKHQpID0+IHQucmVzcG9uc2VUaW1lKVxuICAgICAgY29uc3QgYXZlcmFnZVJlc3BvbnNlVGltZSA9IHJlc3BvbnNlVGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyByZXNwb25zZVRpbWVzLmxlbmd0aFxuXG4gICAgICAvLyBHcm91cCByZXN1bHRzIGJ5IGVuZHBvaW50IGNhdGVnb3J5XG4gICAgICBjb25zdCBjYXRlZ29yeVN0YXRzID0gdGhpcy5jYXRlZ29yaXplUmVzdWx0cyhhbGxUZXN0cylcblxuICAgICAgLy8gUGVyZm9ybWFuY2UgYW5hbHlzaXNcbiAgICAgIGNvbnN0IHNsb3dlc3QgPSBhbGxUZXN0cy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IChwcmV2LnJlc3BvbnNlVGltZSA+IGN1cnIucmVzcG9uc2VUaW1lID8gcHJldiA6IGN1cnIpKVxuICAgICAgY29uc3QgZmFzdGVzdCA9IGFsbFRlc3RzLnJlZHVjZSgocHJldiwgY3VycikgPT4gKHByZXYucmVzcG9uc2VUaW1lIDwgY3Vyci5yZXNwb25zZVRpbWUgPyBwcmV2IDogY3VycikpXG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB7XG4gICAgICAgIHRvdGFsVGVzdHM6IGFsbFRlc3RzLmxlbmd0aCxcbiAgICAgICAgcGFzc2VkLFxuICAgICAgICBmYWlsZWQsXG4gICAgICAgIHN1Y2Nlc3NSYXRlOiBNYXRoLnJvdW5kKChwYXNzZWQgLyBhbGxUZXN0cy5sZW5ndGgpICogMTAwKSxcbiAgICAgICAgdG90YWxUaW1lOiBNYXRoLnJvdW5kKHRvdGFsVGltZSAvIDEwMDApLFxuICAgICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICAgIGF2ZXJhZ2VSZXNwb25zZVRpbWU6IE1hdGgucm91bmQoYXZlcmFnZVJlc3BvbnNlVGltZSksXG4gICAgICAgICAgc2xvd2VzdEVuZHBvaW50OiBgJHtzbG93ZXN0LmVuZHBvaW50fSAoJHtzbG93ZXN0LnJlc3BvbnNlVGltZX1tcylgLFxuICAgICAgICAgIGZhc3Rlc3RFbmRwb2ludDogYCR7ZmFzdGVzdC5lbmRwb2ludH0gKCR7ZmFzdGVzdC5yZXNwb25zZVRpbWV9bXMpYCxcbiAgICAgICAgfSxcbiAgICAgICAgY2F0ZWdvcnlTdGF0cyxcbiAgICAgICAgcmVzdWx0czogYWxsVGVzdHMsXG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJpbnRDb21wcmVoZW5zaXZlU3VtbWFyeShzdW1tYXJ5KVxuICAgICAgcmV0dXJuIHN1bW1hcnlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIENvbXByZWhlbnNpdmUgdGVzdGluZyBmYWlsZWQ6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYXRlZ29yaXplIHRlc3QgcmVzdWx0cyBieSBlbmRwb2ludCB0eXBlXG4gICAqL1xuICBwcml2YXRlIGNhdGVnb3JpemVSZXN1bHRzKHJlc3VsdHM6IGFueVtdKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICAgIGF1dGg6IHsgdG90YWw6IDAsIHBhc3NlZDogMCwgYXZnVGltZTogMCB9LFxuICAgICAgZmlsZXM6IHsgdG90YWw6IDAsIHBhc3NlZDogMCwgYXZnVGltZTogMCB9LFxuICAgICAgZGV0YWlsczogeyB0b3RhbDogMCwgcGFzc2VkOiAwLCBhdmdUaW1lOiAwIH0sXG4gICAgICBidWxrOiB7IHRvdGFsOiAwLCBwYXNzZWQ6IDAsIGF2Z1RpbWU6IDAgfSxcbiAgICAgIHBlcmZvcm1hbmNlOiB7IHRvdGFsOiAwLCBwYXNzZWQ6IDAsIGF2Z1RpbWU6IDAgfSxcbiAgICAgIGVycm9yczogeyB0b3RhbDogMCwgcGFzc2VkOiAwLCBhdmdUaW1lOiAwIH0sXG4gICAgfVxuXG4gICAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQpID0+IHtcbiAgICAgIGxldCBjYXRlZ29yeSA9ICdmaWxlcycgLy8gZGVmYXVsdFxuXG4gICAgICBpZiAocmVzdWx0LmVuZHBvaW50LmluY2x1ZGVzKCcvYXV0aC8nKSkgY2F0ZWdvcnkgPSAnYXV0aCdcbiAgICAgIGVsc2UgaWYgKFxuICAgICAgICByZXN1bHQuZW5kcG9pbnQuaW5jbHVkZXMoJy9idWxrLycpIHx8XG4gICAgICAgIHJlc3VsdC5lbmRwb2ludC5pbmNsdWRlcygnL21vdmUnKSB8fFxuICAgICAgICByZXN1bHQuZW5kcG9pbnQuaW5jbHVkZXMoJy9jb3B5JykgfHxcbiAgICAgICAgcmVzdWx0LmVuZHBvaW50LmluY2x1ZGVzKCcvdHJhc2gnKVxuICAgICAgKVxuICAgICAgICBjYXRlZ29yeSA9ICdidWxrJ1xuICAgICAgZWxzZSBpZiAocmVzdWx0LmVuZHBvaW50LmluY2x1ZGVzKCcvZXNzZW50aWFsJykgfHwgcmVzdWx0LmVuZHBvaW50LmluY2x1ZGVzKCcvZXh0ZW5kZWQnKSkgY2F0ZWdvcnkgPSAnZGV0YWlscydcbiAgICAgIGVsc2UgaWYgKHJlc3VsdC5lbmRwb2ludC5pbmNsdWRlcygnL2hlYWx0aCcpIHx8IHJlc3VsdC5lbmRwb2ludC5pbmNsdWRlcygnL3BlcmZvcm1hbmNlJykgfHwgcmVzdWx0LmVuZHBvaW50LmluY2x1ZGVzKCcvY2FjaGUnKSlcbiAgICAgICAgY2F0ZWdvcnkgPSAncGVyZm9ybWFuY2UnXG4gICAgICBlbHNlIGlmIChyZXN1bHQuZW5kcG9pbnQuaW5jbHVkZXMoJ2ludmFsaWQnKSkgY2F0ZWdvcnkgPSAnZXJyb3JzJ1xuXG4gICAgICBjYXRlZ29yaWVzW2NhdGVnb3J5XS50b3RhbCsrXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIGNhdGVnb3JpZXNbY2F0ZWdvcnldLnBhc3NlZCsrXG4gICAgICBjYXRlZ29yaWVzW2NhdGVnb3J5XS5hdmdUaW1lICs9IHJlc3VsdC5yZXNwb25zZVRpbWVcbiAgICB9KVxuXG4gICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2VzXG4gICAgT2JqZWN0LmtleXMoY2F0ZWdvcmllcykuZm9yRWFjaCgoY2F0KSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpZXNbY2F0XVxuICAgICAgaWYgKGNhdGVnb3J5LnRvdGFsID4gMCkge1xuICAgICAgICBjYXRlZ29yeS5hdmdUaW1lID0gTWF0aC5yb3VuZChjYXRlZ29yeS5hdmdUaW1lIC8gY2F0ZWdvcnkudG90YWwpXG4gICAgICAgIGNhdGVnb3J5LnN1Y2Nlc3NSYXRlID0gTWF0aC5yb3VuZCgoY2F0ZWdvcnkucGFzc2VkIC8gY2F0ZWdvcnkudG90YWwpICogMTAwKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gY2F0ZWdvcmllc1xuICB9XG5cbiAgLyoqXG4gICAqIFByaW50IGNvbXByZWhlbnNpdmUgdGVzdCBzdW1tYXJ5XG4gICAqL1xuICBwcml2YXRlIHByaW50Q29tcHJlaGVuc2l2ZVN1bW1hcnkoc3VtbWFyeTogYW55KTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coJ1xcbicgKyAnPScucmVwZWF0KDYwKSlcbiAgICBjb25zb2xlLmxvZygn8J+TiiBDT01QUkVIRU5TSVZFIEFQSSBURVNUIFNVTU1BUlknKVxuICAgIGNvbnNvbGUubG9nKCc9Jy5yZXBlYXQoNjApKVxuXG4gICAgY29uc29sZS5sb2coYPCfp6ogVG90YWwgVGVzdHM6ICR7c3VtbWFyeS50b3RhbFRlc3RzfWApXG4gICAgY29uc29sZS5sb2coYOKchSBQYXNzZWQ6ICR7c3VtbWFyeS5wYXNzZWR9YClcbiAgICBjb25zb2xlLmxvZyhg4p2MIEZhaWxlZDogJHtzdW1tYXJ5LmZhaWxlZH1gKVxuICAgIGNvbnNvbGUubG9nKGDwn5OIIFN1Y2Nlc3MgUmF0ZTogJHtzdW1tYXJ5LnN1Y2Nlc3NSYXRlfSVgKVxuICAgIGNvbnNvbGUubG9nKGDij7HvuI8gIFRvdGFsIFRpbWU6ICR7c3VtbWFyeS50b3RhbFRpbWV9c2ApXG5cbiAgICBjb25zb2xlLmxvZygnXFxu8J+TiCBQZXJmb3JtYW5jZSBNZXRyaWNzOicpXG4gICAgY29uc29sZS5sb2coYCAgIEF2ZXJhZ2UgUmVzcG9uc2UgVGltZTogJHtzdW1tYXJ5LnBlcmZvcm1hbmNlLmF2ZXJhZ2VSZXNwb25zZVRpbWV9bXNgKVxuICAgIGNvbnNvbGUubG9nKGAgICBTbG93ZXN0OiAke3N1bW1hcnkucGVyZm9ybWFuY2Uuc2xvd2VzdEVuZHBvaW50fWApXG4gICAgY29uc29sZS5sb2coYCAgIEZhc3Rlc3Q6ICR7c3VtbWFyeS5wZXJmb3JtYW5jZS5mYXN0ZXN0RW5kcG9pbnR9YClcblxuICAgIGNvbnNvbGUubG9nKCdcXG7wn5OCIENhdGVnb3J5IEJyZWFrZG93bjonKVxuICAgIE9iamVjdC5lbnRyaWVzKHN1bW1hcnkuY2F0ZWdvcnlTdGF0cykuZm9yRWFjaCgoW2NhdGVnb3J5LCBzdGF0c106IFtzdHJpbmcsIGFueV0pID0+IHtcbiAgICAgIGlmIChzdGF0cy50b3RhbCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coYCAgICR7Y2F0ZWdvcnkudG9VcHBlckNhc2UoKX06ICR7c3RhdHMucGFzc2VkfS8ke3N0YXRzLnRvdGFsfSAoJHtzdGF0cy5zdWNjZXNzUmF0ZX0lKSAtIEF2ZzogJHtzdGF0cy5hdmdUaW1lfW1zYClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coJ1xcbicgKyAnPScucmVwZWF0KDYwKSlcbiAgfVxufVxuXG4vLyBBZGQgZHVtbXkgdGVzdCB0byBwcmV2ZW50IFwibm8gdGVzdHNcIiBlcnJvclxuZGVzY3JpYmUoJ0NvbXByZWhlbnNpdmUgQVBJIFRlc3QnLCAoKSA9PiB7XG4gIGl0KCdleHBvcnRzIENvbXByZWhlbnNpdmVBUElUZXN0ZXIgY2xhc3MnLCAoKSA9PiB7XG4gICAgZXhwZWN0KENvbXByZWhlbnNpdmVBUElUZXN0ZXIpLnRvQmVEZWZpbmVkKClcbiAgfSlcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IENvbXByZWhlbnNpdmVBUElUZXN0ZXJcbiJdLCJuYW1lcyI6WyJ0ZXN0Q29uZmlnIiwiYmFzZVVybCIsInNlc3Npb25Db29raWUiLCJ0ZXN0VGltZW91dCIsInJldHJ5QXR0ZW1wdHMiLCJDb21wcmVoZW5zaXZlQVBJVGVzdGVyIiwiQVBJVGVzdGVyIiwidGVzdEF1dGhFbmRwb2ludHMiLCJjb25zb2xlIiwibG9nIiwiYXV0aFRlc3RzIiwicHVzaCIsImFwaVJlcXVlc3QiLCJ0ZXN0Q29tcGxldGVGaWxlc0FQSSIsImZpbGVzVGVzdHMiLCJ0ZXN0RmlsZURldGFpbEVuZHBvaW50cyIsImRldGFpbFRlc3RzIiwidGVzdEZpbGVzIiwiZmlsZUlkIiwidGVzdEJ1bGtPcGVyYXRpb25FbmRwb2ludHMiLCJidWxrVGVzdHMiLCJ0ZXN0SXRlbXMiLCJpZCIsIm5hbWUiLCJpc0ZvbGRlciIsIml0ZW1zIiwibW9kZSIsInRlc3RQZXJmb3JtYW5jZUVuZHBvaW50cyIsInBlcmZUZXN0cyIsInRlc3RFcnJvckhhbmRsaW5nIiwiZXJyb3JUZXN0cyIsInRlc3RDb25jdXJyZW50UmVxdWVzdHMiLCJjb25jdXJyZW50VGVzdHMiLCJjb25jdXJyZW50UHJvbWlzZXMiLCJpIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJydW5Db21wcmVoZW5zaXZlVGVzdHMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93Iiwic2Vzc2lvbiIsInZhbGlkYXRlU2Vzc2lvbiIsIkVycm9yIiwiZW1haWwiLCJhbGxUZXN0cyIsInRvdGFsVGltZSIsInBhc3NlZCIsImZpbHRlciIsInQiLCJzdWNjZXNzIiwibGVuZ3RoIiwiZmFpbGVkIiwicmVzcG9uc2VUaW1lcyIsIm1hcCIsInJlc3BvbnNlVGltZSIsImF2ZXJhZ2VSZXNwb25zZVRpbWUiLCJyZWR1Y2UiLCJhIiwiYiIsImNhdGVnb3J5U3RhdHMiLCJjYXRlZ29yaXplUmVzdWx0cyIsInNsb3dlc3QiLCJwcmV2IiwiY3VyciIsImZhc3Rlc3QiLCJzdW1tYXJ5IiwidG90YWxUZXN0cyIsInN1Y2Nlc3NSYXRlIiwiTWF0aCIsInJvdW5kIiwicGVyZm9ybWFuY2UiLCJzbG93ZXN0RW5kcG9pbnQiLCJlbmRwb2ludCIsImZhc3Rlc3RFbmRwb2ludCIsInByaW50Q29tcHJlaGVuc2l2ZVN1bW1hcnkiLCJlcnJvciIsImNhdGVnb3JpZXMiLCJhdXRoIiwidG90YWwiLCJhdmdUaW1lIiwiZmlsZXMiLCJkZXRhaWxzIiwiYnVsayIsImVycm9ycyIsImZvckVhY2giLCJyZXN1bHQiLCJjYXRlZ29yeSIsImluY2x1ZGVzIiwiT2JqZWN0Iiwia2V5cyIsImNhdCIsInJlcGVhdCIsImVudHJpZXMiLCJzdGF0cyIsInRvVXBwZXJDYXNlIiwiZGVzY3JpYmUiLCJpdCIsImV4cGVjdCIsInRvQmVEZWZpbmVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7Ozs7K0JBd1ZEOzs7ZUFBQTs7O2tFQXRWc0M7Ozs7OztBQUV0QyxxQkFBcUI7QUFDckIsTUFBTUEsYUFBeUI7SUFDN0JDLFNBQVM7SUFDVEMsZUFBZTtJQUNmQyxhQUFhO0lBQ2JDLGVBQWU7QUFDakI7QUFFQTs7Q0FFQyxHQUNELE1BQU1DLCtCQUErQkMsa0JBQVM7SUFDNUM7O0dBRUMsR0FDRCxNQUFNQyxvQkFBb0M7UUFDeENDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU1DLFlBQVksRUFBRTtRQUVwQkEsVUFBVUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDQyxVQUFVLENBQUMscUJBQXFCO1FBQzFERixVQUFVQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUNDLFVBQVUsQ0FBQyx1QkFBdUI7UUFFNUQsT0FBT0Y7SUFDVDtJQUVBOztHQUVDLEdBQ0QsTUFBTUcsdUJBQXVDO1FBQzNDTCxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNSyxhQUFhLEVBQUU7UUFFckIsNkNBQTZDO1FBQzdDQSxXQUFXSCxJQUFJLENBQUMsTUFBTSxJ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
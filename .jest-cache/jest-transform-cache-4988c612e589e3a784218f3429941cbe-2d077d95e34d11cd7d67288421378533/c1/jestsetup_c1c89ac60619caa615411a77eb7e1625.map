{"version":3,"sources":["/home/runner/workspace/jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom'\n\n// Extend Jest matchers\nexpect.extend({\n  toBeInTheDocument(received) {\n    const pass = received && received.closest && received.closest('body') !== null\n    return {\n      message: () => `expected element ${pass ? 'not ' : ''}to be in the document`,\n      pass,\n    }\n  },\n})\n\n// Mock Web APIs for Next.js API routes testing\nimport { TextEncoder, TextDecoder } from 'util'\nglobal.TextEncoder = TextEncoder\nglobal.TextDecoder = TextDecoder\n\n// Mock Request and Response globals for API testing\nglobal.Request =\n  global.Request ||\n  class MockRequest {\n    constructor(url, options = {}) {\n      Object.defineProperty(this, 'url', { value: url, writable: false })\n      this.method = options.method || 'GET'\n      this.headers = new Map(Object.entries(options.headers || {}))\n      this.body = options.body || null\n    }\n\n    async json() {\n      return JSON.parse(this.body || '{}')\n    }\n  }\n\nglobal.Response =\n  global.Response ||\n  class MockResponse {\n    constructor(body, options = {}) {\n      this.body = body\n      this.status = options.status || 200\n      this.headers = new Map(Object.entries(options.headers || {}))\n    }\n\n    async json() {\n      return JSON.parse(this.body || '{}')\n    }\n  }\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter() {\n    return {\n      push: jest.fn(),\n      replace: jest.fn(),\n      prefetch: jest.fn(),\n      back: jest.fn(),\n      forward: jest.fn(),\n      refresh: jest.fn(),\n    }\n  },\n  useSearchParams() {\n    return new URLSearchParams()\n  },\n  usePathname() {\n    return ''\n  },\n}))\n\n// Mock NextAuth\njest.mock('next-auth/react', () => ({\n  useSession: jest.fn(() => ({\n    data: null,\n    status: 'loading',\n  })),\n  signIn: jest.fn(),\n  signOut: jest.fn(),\n  SessionProvider: ({ children }) => children,\n}))\n\n// Mock environment variables\nprocess.env = {\n  ...process.env,\n  NEXTAUTH_URL: 'http://localhost:3000',\n  NEXTAUTH_SECRET: 'test-secret',\n  GOOGLE_CLIENT_ID: 'test-client-id',\n  GOOGLE_CLIENT_SECRET: 'test-client-secret',\n}\n\n// Mock window.matchMedia\nconst mockMatchMedia = jest.fn().mockImplementation((query) => ({\n  matches: false,\n  media: query,\n  onchange: null,\n  addListener: jest.fn(),\n  removeListener: jest.fn(),\n  addEventListener: jest.fn(),\n  removeEventListener: jest.fn(),\n  dispatchEvent: jest.fn(),\n}))\n\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: mockMatchMedia,\n})\n\n// Mock localStorage for themes\nconst localStorageMock = {\n  getItem: jest.fn(() => null),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nObject.defineProperty(window, 'localStorage', {\n  value: localStorageMock,\n  writable: true,\n})\n\n// Mock ResizeObserver\nglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Note: Using @testing-library/jest-dom matchers instead of custom ones\n\n// Suppress console errors during tests\nconst originalError = console.error\nbeforeAll(() => {\n  console.error = (...args) => {\n    if (typeof args[0] === 'string' && args[0].includes('Warning: ReactDOM.render is no longer supported')) {\n      return\n    }\n    originalError.call(console, ...args)\n  }\n})\n\nafterAll(() => {\n  console.error = originalError\n})\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","back","forward","refresh","useSearchParams","URLSearchParams","usePathname","useSession","data","status","signIn","signOut","SessionProvider","children","expect","extend","toBeInTheDocument","received","pass","closest","message","global","TextEncoder","TextDecoder","Request","MockRequest","constructor","url","options","Object","defineProperty","value","writable","method","headers","Map","entries","body","json","JSON","parse","Response","MockResponse","process","env","NEXTAUTH_URL","NEXTAUTH_SECRET","GOOGLE_CLIENT_ID","GOOGLE_CLIENT_SECRET","mockMatchMedia","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","window","localStorageMock","getItem","setItem","removeItem","clear","ResizeObserver","observe","unobserve","disconnect","IntersectionObserver","originalError","console","error","beforeAll","args","includes","call","afterAll"],"mappings":"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"}
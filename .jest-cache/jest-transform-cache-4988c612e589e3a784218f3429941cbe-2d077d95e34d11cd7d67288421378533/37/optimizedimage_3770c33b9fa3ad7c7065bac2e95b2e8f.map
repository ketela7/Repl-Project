{"version":3,"names":["cov_1jrgq5vbee","actualCoverage","s","OptimizedAvatar","f","OptimizedImage","OptimizedThumbnail","src","alt","width","b","height","className","priority","fill","sizes","onLoad","onError","isLoading","setIsLoading","_react","useState","hasError","setHasError","handleLoad","handleError","_jsxruntime","jsx","_utils","cn","style","jsxs","_image","default","undefined","quality","placeholder","blurDataURL","size"],"sources":["/home/runner/workspace/src/components/optimized-image.tsx"],"sourcesContent":["'use client'\n\n/**\n * Optimized Image component using Next.js Image with performance optimizations\n * Includes lazy loading, blur placeholder, and responsive sizing\n */\n\nimport Image from 'next/image'\nimport { useState } from 'react'\nimport { cn } from '@/lib/utils'\n\ninterface OptimizedImageProps {\n  src: string\n  alt: string\n  width?: number\n  height?: number\n  className?: string\n  priority?: boolean\n  fill?: boolean\n  sizes?: string\n  onLoad?: () => void\n  onError?: () => void\n}\n\nexport function OptimizedImage({\n  src,\n  alt,\n  width = 400,\n  height = 300,\n  className,\n  priority = false,\n  fill = false,\n  sizes = '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw',\n  onLoad,\n  onError,\n}: OptimizedImageProps) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [hasError, setHasError] = useState(false)\n\n  const handleLoad = () => {\n    setIsLoading(false)\n    onLoad?.()\n  }\n\n  const handleError = () => {\n    setIsLoading(false)\n    setHasError(true)\n    onError?.()\n  }\n\n  if (hasError) {\n    return (\n      <div\n        className={cn('flex items-center justify-center bg-gray-100 text-gray-400', className)}\n        style={{ width, height }}\n      >\n        <span className=\"text-sm\">Image failed to load</span>\n      </div>\n    )\n  }\n\n  return (\n    <div className={cn('relative overflow-hidden', className)}>\n      {isLoading && (\n        <div\n          className=\"absolute inset-0 animate-pulse bg-gray-200\"\n          style={{ width: fill ? '100%' : width, height: fill ? '100%' : height }}\n        />\n      )}\n      <Image\n        src={src}\n        alt={alt}\n        {...(fill ? { fill: true } : { width: width || 200, height: height || 200 })}\n        sizes={fill ? sizes : undefined}\n        priority={priority}\n        quality={85}\n        placeholder=\"blur\"\n        blurDataURL=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX//2Q==\"\n        onLoad={handleLoad}\n        onError={handleError}\n        className={cn(\n          'transition-opacity duration-300',\n          isLoading ? 'opacity-0' : 'opacity-100',\n          fill ? 'object-cover' : '',\n        )}\n      />\n    </div>\n  )\n}\n\n// Avatar-specific optimized image\nexport function OptimizedAvatar({\n  src,\n  alt,\n  size = 40,\n  className,\n}: {\n  src: string\n  alt: string\n  size?: number\n  className?: string\n}) {\n  return (\n    <OptimizedImage\n      src={src}\n      alt={alt}\n      width={size}\n      height={size}\n      className={cn('rounded-full', className)}\n      sizes=\"(max-width: 768px) 64px, 40px\"\n      priority={false}\n    />\n  )\n}\n\n// File thumbnail optimized image\nexport function OptimizedThumbnail({ src, alt, className }: { src: string; alt: string; className?: string }) {\n  return (\n    <OptimizedImage\n      src={src}\n      alt={alt}\n      width={48}\n      height={48}\n      className={cn('rounded', className)}\n      sizes=\"48px\"\n      priority={false}\n    />\n  )\n}\n"],"mappings":"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","ignoreList":[]}